/*!
 * mwydmuch.pl v0.0.3
 * Copyright 2021 Marek Wydmuch
 */

!function s(h,r,o){function a(e,t){if(!r[e]){if(!h[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);throw new Error("Cannot find module '"+e+"'")}i=r[e]={exports:{}};h[e][0].call(i.exports,function(t){var i=h[e][1][t];return a(i||t)},i,i.exports,s,h,r,o)}return r[e].exports}for(var l="function"==typeof require&&require,t=0;t<o.length;t++)a(o[t]);return a}({1:[function(t,i,e){"use strict";i.exports=class{constructor(t,i,e=10){this.ctx=t.getContext("2d",{alpha:!1}),this.cellSize=e,this.colors=i,this.gridWidth=0,this.gridHeight=0,this.grid=null,this.gridNextState=null,this.resize()}getCord(t,i){return t+i*this.gridWidth}isAlive(t,i){return!(t<0||t>=this.gridWidth||i<0||i>=this.gridHeight)&&(1==this.grid[this.getCord(t,i)]?1:0)}update(t){for(let i=0;i<this.gridHeight;++i)for(let t=0;t<this.gridWidth;++t){var e=this.isAlive(t-1,i-1)+this.isAlive(t,i-1)+this.isAlive(t+1,i-1)+this.isAlive(t-1,i)+this.isAlive(t+1,i)+this.isAlive(t-1,i+1)+this.isAlive(t,i+1)+this.isAlive(t+1,i+1),s=this.getCord(t,i);2==e&&1==this.grid[s]?this.gridNextState[s]=this.grid[s]:this.gridNextState[s]=3==e?1:this.grid[s]-1}[this.grid,this.gridNextState]=[this.gridNextState,this.grid]}draw(){this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(let s=0;s<this.gridHeight;++s)for(let e=0;e<this.gridWidth;++e){var h=this.grid[this.getCord(e,s)];let t=1,i=null;0<=h?i=this.colors[0]:-2<=h?(i=this.colors[1],t+=1):-4<=h?(i=this.colors[2],t+=2):-16<=h&&(i=this.colors[3],t+=3),i&&(this.ctx.fillStyle=i,this.ctx.fillRect(e*this.cellSize+t,s*this.cellSize+t,this.cellSize-2*t,this.cellSize-2*t))}}resize(){var e=Math.ceil(this.ctx.canvas.width/this.cellSize),t=Math.ceil(this.ctx.canvas.height/this.cellSize);let s=new Array(e*t);for(let i=0;i<t;i++)for(let t=0;t<e;t++){var h=t+i*e;t<this.gridWidth&&i<this.gridHeight?s[h]=this.grid[this.getCord(t,i)]:s[h]=.5<Math.random()?1:0}this.grid=s,this.gridNextState=[...this.grid],this.gridWidth=e,this.gridHeight=t}}},{}],2:[function(t,i,e){"use strict";var s=t("./gameoflive"),t=t("./perlinnoise"),h=document.getElementById("background"),r=document.getElementById("container"),o=0,a=0,l=!1,n=1e3/15,c=Date.now(),t=[s,t],d=new t[Math.floor(Math.random()*t.length)](h,["#777777","#888888","#999999","#AAAAAA"]);!function t(){requestAnimationFrame(t);var i,e=Date.now(),s=e-c;s<n||(c=e,i=Math.max(r.offsetWidth,window.innerWidth),e=Math.max(r.offsetHeight,window.innerHeight),i!=o||e!=a?l=!0:l&&(h.width=i,h.height=e,d.resize(),l=!1),a=e,o=i,d.update(s),d.draw())}()},{"./gameoflive":1,"./perlinnoise":3}],3:[function(t,i,e){"use strict";i.exports=class{constructor(t,i,e=5,s=1200){this.ctx=t.getContext("2d",{alpha:!1}),this.width=0,this.height=0,this.noiseScale=s,this.particlePer100PixSq=e,this.colors=i,this.particles=[],this.noiseGradients={},this.noiseMemory={},this.resize()}dotNoiseGrid(t,i,e,s){t={x:t-e,y:i-s};let h;return this.noiseGradients[[e,s]]?h=this.noiseGradients[[e,s]]:(i=2*Math.random()*Math.PI,h={x:Math.cos(i),y:Math.sin(i)},this.noiseGradients[[e,s]]=h),t.x*h.x+t.y*h.y}interpolate(t,i,e){return i+(6*t**5-15*t**4+10*t**3)*(e-i)}getNoise(t,i){if(this.noiseMemory.hasOwnProperty([t,i]))return this.noiseMemory[[t,i]];var e=Math.floor(t),s=Math.floor(i),h=this.dotNoiseGrid(t,i,e,s),r=this.dotNoiseGrid(t,i,e+1,s),o=this.dotNoiseGrid(t,i,e,s+1),a=this.dotNoiseGrid(t,i,e+1,s+1),r=this.interpolate(t-e,h,r),a=this.interpolate(t-e,o,a),a=this.interpolate(i-s,r,a);return this.noiseMemory[[t,i]]=a}update(t){for(let t=0;t<this.particles.length;t++){var i=2*this.getNoise(this.particles[t].x/this.noiseScale,this.particles[t].y/this.noiseScale)*Math.PI*this.noiseScale;this.particles[t].x+=Math.cos(i)*this.particles[t].speed,this.particles[t].y+=Math.sin(i)*this.particles[t].speed}}draw(){for(let t=0;t<this.particles.length;t++)this.ctx.fillStyle=this.particles[t].color,this.ctx.beginPath(),this.ctx.arc(this.particles[t].x,this.particles[t].y,this.particles[t].radius,0,2*Math.PI,!1),this.ctx.fill()}resize(){var i=this.ctx.canvas.width,e=this.ctx.canvas.height,s=i/100*e/100*this.particlePer100PixSq;this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(let t=0;t<s;t++)this.particles.push({x:Math.random()*i,y:Math.random()*e,speed:.15*Math.random()+.1,radius:.5*Math.random()+.5,color:this.colors[Math.floor(Math.random()*this.colors.length)]})}}},{}]},{},[2]);