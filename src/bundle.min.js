/*!
 * mwydmuch.pl v0.0.4
 * Copyright 2021 Marek Wydmuch
 */

!function s(h,r,a){function n(e,t){if(!r[e]){if(!h[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(o)return o(e,!0);throw new Error("Cannot find module '"+e+"'")}i=r[e]={exports:{}};h[e][0].call(i.exports,function(t){var i=h[e][1][t];return n(i||t)},i,i.exports,s,h,r,a)}return r[e].exports}for(var o="function"==typeof require&&require,t=0;t<a.length;t++)n(a[t]);return n}({1:[function(t,i,e){"use strict";class s extends t("./animation"){constructor(t,i,e,s=30,h=8,r=-20){super(t,i,e),this.length=s,this.evenAngel=h*Math.PI/180,this.oddAngel=r*Math.PI/180,this.seqences=[],this.frame=0,this.startX,this.startY,this.resize()}getName(){return"3n + 1 visualization"}update(t){let i=this.seqences.length+1,e=[i];for(;1!=i;)i%2?i=3*i+1:i/=2,e.push(i);this.seqences.push(e)}drawSequence(i){let e=this.startX,s=this.startY,h=270*Math.PI/180;this.ctx.strokeStyle=this.colors[this.frame%this.colors.length],this.ctx.lineWidth=2;for(let t=i.length-2;0<=t;--t)this.ctx.beginPath(),this.ctx.moveTo(e,s),i[t]%2?h+=this.oddAngel:h+=this.evenAngel,e+=this.length*Math.cos(h),s+=this.length*Math.sin(h),this.ctx.lineTo(e,s),this.ctx.stroke()}draw(){for(;this.frame<this.seqences.length;)this.drawSequence(this.seqences[this.frame]),++this.frame}resize(){this.startX=this.ctx.canvas.width/2,this.startY=this.ctx.canvas.height,this.frame=0,this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}}i.exports=s},{"./animation":2}],2:[function(t,i,e){"use strict";i.exports=class{constructor(t,i,e){this.ctx=t.getContext("2d",{alpha:!1}),this.colors=i,this.colorsAlt=e}getFPS(){return 25}getName(){return"unamed animation"}}},{}],3:[function(t,i,e){"use strict";var s=t("./animation");const a=t("./josephg-noise"),h=t("./utils");class r extends s{constructor(t,i,e,s=3,h=.4,r=1.2){super(t,i,e),this.noise=a.noise,this.degPerVertex=s,this.noiseMin=h,this.noiseMax=r,this.zoff=0,this.color1=this.colors[0],this.color2=this.colorsAlt[0],this.radius=1,this.radiusMin=0,this.radiusMax=0,this.centerX=0,this.centerY=0,this.resize()}getFPS(){return 25}getName(){return"circular waves"}update(t){this.zoff+=.005}draw(){this.ctx.strokeStyle=h.lerpColor(this.color1,this.color2,Math.abs(Math.sin(this.zoff))),this.ctx.beginPath();for(let t=0;t<=360;t+=this.degPerVertex){var i=t*Math.PI/180,e=h.remap(Math.cos(i),-1,1,0,1),s=h.remap(Math.sin(i),-1,1,0,1),e=this.noise.simplex3(e,s,this.zoff),s=h.remap(e,-1,1,this.radiusMin,this.radiusMax),e=this.centerX+s*Math.cos(i),i=this.centerY+s*Math.sin(i);0==t?this.ctx.moveTo(e,i):this.ctx.lineTo(e,i)}this.ctx.stroke()}resize(){this.centerX=this.ctx.canvas.width/2,this.centerY=this.ctx.canvas.height/2,this.radiusMin=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.noiseMin,this.radiusMax=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.noiseMax,h.clear(this.ctx,"#FFFFFF")}}i.exports=r},{"./animation":2,"./josephg-noise":5,"./utils":10}],4:[function(t,i,e){"use strict";class s extends t("./animation"){constructor(t,i,e,s=10){super(t,i,e),this.cellSize=s,this.gridWidth=0,this.gridHeight=0,this.grid=null,this.gridNextState=null,this.resize()}getName(){return"Conway's Game of Life"}getCord(t,i){return t+i*this.gridWidth}isAlive(t,i){return!(t<0||t>=this.gridWidth||i<0||i>=this.gridHeight)&&(1==this.grid[this.getCord(t,i)]?1:0)}update(t){for(let i=0;i<this.gridHeight;++i)for(let t=0;t<this.gridWidth;++t){var e=this.isAlive(t-1,i-1)+this.isAlive(t,i-1)+this.isAlive(t+1,i-1)+this.isAlive(t-1,i)+this.isAlive(t+1,i)+this.isAlive(t-1,i+1)+this.isAlive(t,i+1)+this.isAlive(t+1,i+1),s=this.getCord(t,i);2==e&&1==this.grid[s]?this.gridNextState[s]=this.grid[s]:this.gridNextState[s]=3==e?1:this.grid[s]-1}[this.grid,this.gridNextState]=[this.gridNextState,this.grid]}draw(){this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(let s=0;s<this.gridHeight;++s)for(let e=0;e<this.gridWidth;++e){var h=this.grid[this.getCord(e,s)];let t=1,i=null;0<=h?i=this.colors[0]:-2<=h?(i=this.colors[1],t+=1):-4<=h?(i=this.colors[2],t+=2):-16<=h&&(i=this.colors[3],t+=3),i&&(this.ctx.fillStyle=i,this.ctx.fillRect(e*this.cellSize+t,s*this.cellSize+t,this.cellSize-2*t,this.cellSize-2*t))}}resize(){var e=Math.ceil(this.ctx.canvas.width/this.cellSize),t=Math.ceil(this.ctx.canvas.height/this.cellSize);let s=new Array(e*t);for(let i=0;i<t;i++)for(let t=0;t<e;t++){var h=t+i*e;t<this.gridWidth&&i<this.gridHeight?s[h]=this.grid[this.getCord(t,i)]:s[h]=.5<Math.random()?1:0}this.grid=s,this.gridNextState=[...this.grid],this.gridWidth=e,this.gridHeight=t}}i.exports=s},{"./animation":2}],5:[function(t,i,e){!function(t){t=t.noise={};function i(t,i,e){this.x=t,this.y=i,this.z=e}i.prototype.dot2=function(t,i){return this.x*t+this.y*i},i.prototype.dot3=function(t,i,e){return this.x*t+this.y*i+this.z*e};var s=[new i(1,1,0),new i(-1,1,0),new i(1,-1,0),new i(-1,-1,0),new i(1,0,1),new i(-1,0,1),new i(1,0,-1),new i(-1,0,-1),new i(0,1,1),new i(0,-1,1),new i(0,1,-1),new i(0,-1,-1)],h=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],y=new Array(512),S=new Array(512);t.seed=function(t){0<t&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var i=0;i<256;i++){var e=1&i?h[i]^255&t:h[i]^t>>8&255;y[i]=y[i+256]=e,S[i]=S[i+256]=s[e%12]}},t.seed(0);var g=.5*(Math.sqrt(3)-1),u=(3-Math.sqrt(3))/6,z=1/6;function f(t){return t*t*t*(t*(6*t-15)+10)}function x(t,i,e){return(1-e)*t+e*i}t.simplex2=function(t,i){var e=(t+i)*g,s=Math.floor(t+e),h=Math.floor(i+e),r=(s+h)*u,a=t-s+r,n=i-h+r,o=n<a?(d=1,0):(d=0,1),c=a-d+u,l=n-o+u,e=a-1+2*u,t=n-1+2*u,i=S[(s&=255)+y[h&=255]],r=S[s+d+y[h+o]],d=S[1+s+y[1+h]],o=.5-a*a-n*n,s=.5-c*c-l*l,h=.5-e*e-t*t;return 70*((o<0?0:(o*=o)*o*i.dot2(a,n))+(s<0?0:(s*=s)*s*r.dot2(c,l))+(h<0?0:(h*=h)*h*d.dot2(e,t)))},t.simplex3=function(t,i,e){var s,h,r=(t+i+e)*(1/3),a=Math.floor(t+r),n=Math.floor(i+r),o=Math.floor(e+r),c=(a+n+o)*z,l=t-a+c,d=i-n+c,g=e-o+c,u=d<=l?g<=d?(F=M=s=1,w=h=0):M=g<=l?(F=w=h=0,s=1):(F=h=s=0,w=1):d<g?(M=h=s=0,F=w=1):l<g?(M=w=s=0,F=h=1):(F=M=h=1,w=s=0),f=l-s+z,x=d-h+z,v=g-w+z,m=l-M+2*z,p=d-F+2*z,r=g-u+2*z,t=l-1+.5,i=d-1+.5,e=g-1+.5,c=S[(a&=255)+y[(n&=255)+y[o&=255]]],w=S[a+s+y[n+h+y[o+w]]],M=S[a+M+y[n+F+y[o+u]]],F=S[1+a+y[1+n+y[1+o]]],u=.6-l*l-d*d-g*g,a=.6-f*f-x*x-v*v,n=.6-m*m-p*p-r*r,o=.6-t*t-i*i-e*e;return 32*((u<0?0:(u*=u)*u*c.dot3(l,d,g))+(a<0?0:(a*=a)*a*w.dot3(f,x,v))+(n<0?0:(n*=n)*n*M.dot3(m,p,r))+(o<0?0:(o*=o)*o*F.dot3(t,i,e)))},t.perlin2=function(t,i){var e=Math.floor(t),s=Math.floor(i);t-=e,i-=s;var h=S[(e&=255)+y[s&=255]].dot2(t,i),r=S[e+y[1+s]].dot2(t,i-1),a=S[1+e+y[s]].dot2(t-1,i),s=S[1+e+y[1+s]].dot2(t-1,i-1),t=f(t);return x(x(h,a,t),x(r,s,t),f(i))},t.perlin3=function(t,i,e){var s=Math.floor(t),h=Math.floor(i),r=Math.floor(e);t-=s,i-=h,e-=r;var a=S[(s&=255)+y[(h&=255)+y[r&=255]]].dot3(t,i,e),n=S[s+y[h+y[1+r]]].dot3(t,i,e-1),o=S[s+y[1+h+y[r]]].dot3(t,i-1,e),c=S[s+y[1+h+y[1+r]]].dot3(t,i-1,e-1),l=S[1+s+y[h+y[r]]].dot3(t-1,i,e),d=S[1+s+y[h+y[1+r]]].dot3(t-1,i,e-1),g=S[1+s+y[1+h+y[r]]].dot3(t-1,i-1,e),r=S[1+s+y[1+h+y[1+r]]].dot3(t-1,i-1,e-1),t=f(t),i=f(i),e=f(e);return x(x(x(a,l,t),x(n,d,t),e),x(x(o,g,t),x(c,r,t),e),i)}}(this)},{}],6:[function(t,i,e){"use strict";var s=t("./game-of-live"),h=t("./perlin-noise-particles"),r=t("./spinning-shapes"),a=t("./neural-network"),n=t("./3n+1"),t=t("./circular-waves");const o=document.getElementById("background"),c=document.getElementById("container");var l=0,d=0,g=!1;const u=["#54ABA4","#639598","#678786","#92ABA1","#A5BFBC"],f=["#CA3737"],x=document.getElementById("content"),v=document.getElementById("background-controls"),m=document.getElementById("background-name"),p=document.getElementById("background-prev"),w=document.getElementById("background-next"),M=[s,h,r,a,n,t];let F=Math.floor(Math.random()*M.length),y=new M[F](o,u,f);var S=0,z=0;function b(t){var i=t.getFPS();S=1e3/i,z=Date.now(),m.innerHTML=t.getName()}b(y),function t(){requestAnimationFrame(t);var i,e=Date.now(),s=e-z;s<S||(z=e,i=Math.max(c.offsetWidth,window.innerWidth),e=Math.max(c.offsetHeight,window.innerHeight),i!=l||e!=d?g=!0:g&&(o.width=i,o.height=e,y.resize(),g=!1),d=e,l=i,y.update(s),y.draw())}(),v.addEventListener("mouseover",function(){x.classList.remove("show-from-0"),x.classList.add("fade-to-0"),o.classList.remove("faded-8"),o.classList.remove("fade-to-8"),o.classList.add("hue-change"),o.classList.add("show-from-8")}),v.addEventListener("mouseout",function(){x.classList.remove("fade-to-0"),x.classList.add("show-from-0"),o.classList.remove("show-from-8"),o.classList.add("fade-to-8"),o.classList.remove("hue-change")}),p.addEventListener("click",function(){F=(F+M.length-1)%M.length,y=new M[F](o,u,f),b(y)}),w.addEventListener("click",function(){F=(F+1)%M.length,y=new M[F](o,u,f),b(y)})},{"./3n+1":1,"./circular-waves":3,"./game-of-live":4,"./neural-network":7,"./perlin-noise-particles":8,"./spinning-shapes":9}],7:[function(t,i,e){"use strict";var s=t("./animation");const l=t("./utils");class h extends s{constructor(t,i,e){super(t,i,e),this.network=[],this.nLayers=0,this.baseNodeSize=3,this.baseLineSize=1,this.resize()}getFPS(){return 1.5}getName(){return"visualization of simple neural network"}update(t){if(0!=this.network.length){for(var i of this.network[0])i.v=l.randomRange(-1,1);for(let i=1;i<this.nLayers;i++)for(var e of this.network[i]){for(let t=e.v=0;t<this.network[i-1].length;++t)e.v+=this.network[i-1][t].v*e.w[t];i==this.nLayers-1?e.v=1/(1+Math.exp(-e.v)):e.v=Math.max(0,e.v)}}}draw(){if(l.clear(this.ctx,"#FFFFFF"),null!=this.stateData)return this.ctx.globalAlpha=1-this.time/this.stateTime,null!=this.prevStateData&&this.ctx.putImageData(this.prevStateData,0,0),this.ctx.globalAlpha=this.time/this.stateTime,void this.ctx.putImageData(this.stateData,0,0);for(let t=0;t<this.nLayers-1;t++){var i,e=this.network[t],s=this.network[t+1];for(i of e)for(var h of s){var r=l.clip(i.v,0,1),a=this.colors[this.colors.length-1-Math.floor(r*this.colors.length)];this.ctx.globalAlpha=r,this.ctx.lineWidth=1+r,this.ctx.strokeStyle=a,this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(h.x,h.y),this.ctx.stroke()}}this.ctx.globalAlpha=1;for(var t of this.network)for(var n of t){var o=l.clip(n.v,0,1),c=l.clip(2*n.v,0,4),o=this.colors[this.colors.length-1-Math.floor(o*this.colors.length)],c=this.baseNodeSize+c;l.fillCircle(this.ctx,o,n.x,n.y,c),this.ctx.font="12px sans-serif",this.ctx.fillText(n.v.toFixed(2),n.x-11,n.y-2*this.baseNodeSize)}}resize(){l.clear(this.ctx,"#FFFFFF");var t=this.ctx.canvas.width,r=this.ctx.canvas.height;this.network=[],this.nLayers=l.clip(Math.floor(t/150),3,7);var i=50*t/500;let a=i;var n=(t-2*i)/(this.nLayers-1),o=r/17;for(let h=0;h<this.nLayers;h++){let i=[],e=0;e=0==h||h==this.nLayers-1?Math.floor(l.randomRange(4,16)):l.randomChoice([8,12,16]);let s=r/2-Math.floor(e/2)*o;e%2==0&&(s+=o/2);for(let t=0;t<e;t++){let t={x:a,y:s,v:0,w:null};0<h&&(t.w=l.randomArray(this.network[h-1].length,-1,1)),i.push(t),s+=o}this.network.push(i),a+=n}}}i.exports=h},{"./animation":2,"./utils":10}],8:[function(t,i,e){"use strict";var s=t("./animation");const r=t("./josephg-noise"),h=t("./utils");class a extends s{constructor(t,i,e,s=4,h=1200){super(t,i,e),this.particlePer100PixSq=s,this.noiseScale=h,this.noise=r.noise,this.width=0,this.height=0,this.particles=[],this.imageData=null,this.resize()}getFPS(){return 25}getName(){return"particles moving through Perlin noise"}update(t){for(var i of this.particles){var e=2*this.noise.perlin2(i.x/this.noiseScale,i.y/this.noiseScale)*Math.PI*this.noiseScale;i.x+=Math.cos(e)*i.speed,i.y+=Math.sin(e)*i.speed}}draw(){for(var t of this.particles)h.fillCircle(this.ctx,t.color,t.x,t.y,t.radius);this.imageData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}spawnParticles(i,e,s,h){var r=s/100*h/100*this.particlePer100PixSq;for(let t=0;t<r;t++)this.particles.push({x:Math.random()*s+i,y:Math.random()*h+e,speed:.15*Math.random()+.1,radius:.5*Math.random()+.5,color:this.colors[Math.floor(Math.random()*this.colors.length)]})}resize(){h.clear(this.ctx,"#FFFFFF"),null!=this.imageData&&this.ctx.putImageData(this.imageData,0,0);var t=this.ctx.canvas.width-this.width,i=this.ctx.canvas.height-this.height;0<t&&this.spawnParticles(this.width,0,t,this.height),0<i&&this.spawnParticles(0,this.height,this.width,i),(0<t||0<i)&&this.spawnParticles(this.width,this.height,t,i),this.width=Math.max(this.ctx.canvas.width,this.width),this.height=Math.max(this.ctx.canvas.height,this.height)}}i.exports=a},{"./animation":2,"./josephg-noise":5,"./utils":10}],9:[function(t,i,e){"use strict";class s extends t("./animation"){constructor(t,i,e,s=500){super(t,i,e),this.shapes=s,this.time=0,this.scale=0,this.centerX=0,this.centerY=0,this.distBase=.6,this.distVar=.2,this.sizeBase=.2,this.sizeVar=.12,this.resize()}getName(){return"circles moving in a circle"}update(t){this.time+=t/1e3}getCenterForTheta(t,i,e){e=(this.distBase+this.distVar*Math.cos(6*t+Math.cos(8*t+i/2)))*e;return{x:Math.cos(t)*e,y:Math.sin(t)*e}}getSizeForTheta(t,i,e){return(this.sizeBase+this.sizeVar*Math.cos(9*t-i))*e}getColorForTheta(t,i){return this.colors[Math.floor((Math.cos(9*t-i)+1)/2*this.colors.length)]}draw(){this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(let t=0;t<this.shapes;++t){var i=t/this.shapes*2*Math.PI,e=this.getCenterForTheta(i,this.time,this.scale),s=this.getSizeForTheta(i,this.time,this.scale);this.ctx.strokeStyle=this.getColorForTheta(i,this.time),this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.arc(e.x+this.centerX,e.y+this.centerY,s,0,2*Math.PI,!1),this.ctx.stroke()}}resize(){this.centerX=this.ctx.canvas.width/2,this.centerY=this.ctx.canvas.height/2,this.scale=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/3}}i.exports=s},{"./animation":2}],10:[function(t,i,e){i.exports={randomRange(t,i){return Math.random()*(i-t)+t},randomChoice(t){return t[Math.floor(Math.random()*t.length)]},randomBoxMuller(){return Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())},randomArray(t,i,e){return Array(t).fill().map(()=>this.randomRange(i,e))},clip(t,i,e){return Math.max(i,Math.min(e,t))},remap(t,i,e,s,h){return s+(t-i)/(e-i)*(h-s)},lerp(t,i,e){return(1-e)*t+e*i},lerpColor(t,i,e){t=parseInt(t.replace("#","0x"),16);return ar=t>>16,ag=t>>8&255,ab=255&t,bh=parseInt(i.replace("#","0x"),16),br=bh>>16,bg=bh>>8&255,bb=255&bh,rr=ar+e*(br-ar),rg=ag+e*(bg-ag),rb=ab+e*(bb-ab),"#"+((1<<24)+(rr<<16)+(rg<<8)+rb|0).toString(16).slice(1)},clear(t,i){t.fillStyle=i,t.fillRect(0,0,t.canvas.width,t.canvas.height)},fillCircle(t,i,e,s,h){t.fillStyle=i,t.beginPath(),t.arc(e,s,h,0,2*Math.PI,!1),t.fill()},strokeCircle(t,i,e,s,h){t.strokeStyle=i,t.beginPath(),t.arc(e,s,h,0,2*Math.PI,!1),t.stroke()}}},{}]},{},[6]);