/*!
 * mwydmuch.pl v0.0.6
 * Copyright 2022 Marek Wydmuch
 */

!function i(a,r,n){function h(s,t){if(!r[s]){if(!a[s]){var e="function"==typeof require&&require;if(!t&&e)return e(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}e=r[s]={exports:{}};a[s][0].call(e.exports,function(t){var e=a[s][1][t];return h(e||t)},e,e.exports,i,a,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,t=0;t<n.length;t++)h(n[t]);return h}({1:[function(t,e,s){t=t("./animation");class i extends t{constructor(t,e,s,i=30,a=8,r=-20,n=!1,h=1){super(t,e,s,"3n + 1 (Collatz Conjecture) visualization","3n+1.js"),this.length=i,this.evenAngle=a,this.oddAngle=r,this.scale=h,this.drawNumbers=n,this.seqences=[]}update(t){let e=this.seqences.length+1,s=[e];for(;1!==e;)e%2?e=3*e+1:e/=2,s.push(e);this.seqences.push(s)}drawSequence(e){let s=0,i=0,a=270*Math.PI/180;var r,n,t=this.colors[this.frame%this.colors.length];this.ctx.strokeStyle=t,this.ctx.lineWidth=2,this.ctx.font="12px sans-serif",this.ctx.fillStyle=t;for(let t=e.length-2;0<=t;--t)this.ctx.beginPath(),this.ctx.moveTo(s,i),e[t]%2?a+=this.oddAngleRad:a+=this.evenAngleRad,this.drawNumbers?(r=Math.cos(a),n=Math.sin(a),s+=this.length/2*r,i+=this.length/2*n,this.ctx.fillText(e[t],s+10,i),s+=this.length/2*r,i+=this.length/2*n):(s+=this.length*Math.cos(a),i+=this.length*Math.sin(a)),this.ctx.lineTo(s,i),this.ctx.stroke()}draw(){for(this.evenAngleRad=this.evenAngle*Math.PI/180,this.oddAngleRad=this.oddAngle*Math.PI/180,this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height),this.ctx.scale(this.scale,this.scale);this.frame<this.seqences.length;)this.drawSequence(this.seqences[this.frame]),++this.frame;this.ctx.resetTransform()}resize(){this.frame=0,this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}getSettings(){return[{prop:"length",type:"int",min:1,max:100,toCall:"resize"},{prop:"evenAngle",type:"int",min:-45,max:45,toCall:"resize"},{prop:"oddAngle",type:"int",min:-45,max:45,toCall:"resize"},{prop:"drawNumbers",type:"bool",toCall:"resize"},{prop:"scale",type:"float",min:.05,max:1.95,toCall:"resize"}]}}e.exports=i},{"./animation":2}],2:[function(t,e,s){const i=t("./utils");e.exports=class{constructor(t,e,s,i,a){this.ctx=t.getContext("2d",{alpha:!1}),this.bgColor="#FFFFFF",this.colors=e,this.colorsAlt=s,this.colorA=e[0],this.colorB=e[3],this.name=i,this.file=a,this.time=0,this.frame=0}assignAndCheckIfRandom(t,e){return"random"===t?e:t}fadeOut(t){t<=.001&&this.frame%10==0?i.blendColor(this.ctx,this.bgColor,10*t,"lighter"):t<=.005&&this.frame%2==0?i.blendColor(this.ctx,this.bgColor,2*t,"lighter"):i.blendColor(this.ctx,this.bgColor,t,"lighter")}getFPS(){return 30}getName(){return this.name}getCodeUrl(){return"https://github.com/mwydmuch/mwydmuch.github.io/blob/master/src/"+this.file}update(t){this.time+=t/1e3,++this.frame}resize(){}getSettings(){return[]}}},{"./utils":18}],3:[function(t,e,s){var i=t("./animation");const a=t("./utils");class r extends i{constructor(t,e,s,i=400,a=1,r=.05,n=!1){super(t,e,s,"cardioids with a pencil of lines","cardioids.js"),this.lines=i,this.scale=a,this.speed=r,this.rainbowColors=n,this.radius=0,this.position=0}getVec(t){t=a.remap(t,0,this.lines,0,2*Math.PI);return a.rotateVec2d(a.createVec2d(this.radius,0),Math.PI+t)}update(t){this.time+=t/1e3,++this.frame,this.position+=t/1e3*this.speed}draw(){a.clear(this.ctx,this.bgColor),this.radius=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/3*this.scale,this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2),a.strokeCircle(this.ctx,0,0,this.radius,this.colors[0]);for(let e=0;e<=this.lines;++e){var s=this.getVec(e),i=this.getVec(e*this.position);let t;t=this.rainbowColors?"hsl("+e/this.lines*360+", 100%, 75%)":a.lerpColorsPallet([this.colorA,this.colorB,this.colorA],e/this.lines),a.drawLine(this.ctx,s.x,s.y,i.x,i.y,t,1)}this.ctx.resetTransform()}getSettings(){return[{prop:"lines",type:"int",min:1,max:2500},{prop:"speed",type:"float",min:-1,max:1},{prop:"scale",type:"float",min:.25,max:1.75},{prop:"rainbowColors",type:"bool"}]}}e.exports=r},{"./animation":2,"./utils":18}],4:[function(t,e,s){var i=t("./animation");const l=t("./noise"),c=t("./utils");class a extends i{constructor(t,e,s,i=180,a=.5,r=.4,n=1.2,h=.001,o=!1){super(t,e,s,"circular waves","circular-waves.js"),this.noise=l.noise,this.noise.seed(c.randomRange(0,1)),this.vertexes=i,this.noiseScale=a,this.radiusScaleMin=r,this.radiusScaleMax=n,this.fadingSpeed=h,this.rainbowColors=o,this.radiusMin=0,this.radiusMax=0}draw(){this.fadeOut(this.fadingSpeed);var e=.005*this.frame,s=360/this.vertexes;this.rainbowColors?this.ctx.strokeStyle="hsl("+360*Math.abs(Math.sin(5*e))+", 100%, 50%)":this.ctx.strokeStyle=c.lerpColor(this.colorA,this.colorB,Math.abs(Math.sin(5*e))),this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2),this.ctx.beginPath();for(let t=0;t<=360;t+=s){var i=t*Math.PI/180,a=Math.cos(i)*this.noiseScale,r=Math.sin(i)*this.noiseScale,a=this.noise.simplex3(a,r,e),r=c.remap(a,-1,1,this.radiusMin,this.radiusMax),a=r*Math.cos(i),i=r*Math.sin(i);0===t?this.ctx.moveTo(a,i):this.ctx.lineTo(a,i)}this.ctx.stroke(),this.ctx.resetTransform()}resize(){this.radiusMin=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.radiusScaleMin,this.radiusMax=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.radiusScaleMax,this.radiusMin>this.radiusMax&&([this.radiusMin,this.radiusMax]=[this.radiusMax,this.radiusMin]),c.clear(this.ctx,"#FFFFFF")}getSettings(){return[{prop:"vertexes",type:"int",min:3,max:720,toCall:"resize"},{prop:"radiusScaleMin",type:"float",min:0,max:2,toCall:"resize"},{prop:"radiusScaleMax",type:"float",min:0,max:2,toCall:"resize"},{prop:"noiseScale",type:"float",min:0,max:2,toCall:"resize"},{prop:"fadingSpeed",type:"float",step:.001,min:0,max:.1},{prop:"rainbowColors",type:"bool"}]}}e.exports=a},{"./animation":2,"./noise":10,"./utils":18}],5:[function(t,e,s){var i=t("./game-of-live");const c=t("./utils");class a extends i{constructor(t,e,s,i=12,a=0,r=.5,n=!0){super(t,e,s,i,a,r),this.name="isometric Conway's game of life",this.file="game-of-live-isometric.js",this.fadeDeadCells=n,this.sqrt3=Math.sqrt(3),this.xShift=this.cellSize*this.sqrt3/2,this.yShift=this.cellSize/2,this.renderedGrid=null,this.renderedCubes=[];var h=c.createOffscreenCanvas(4*this.xShift,4*this.yShift).getContext("2d");this.drawIsoCube(h,0,3*this.yShift,!0,!0,this.colors,0,this.cellSize),this.renderedCubes.push(h.canvas);for(let t=1;t<this.cellSize;++t)h=c.createOffscreenCanvas(4*this.xShift,4*this.yShift).getContext("2d"),this.drawIsoCube(h,0,3*this.yShift,!0,!0,this.colorsAlt,-t,this.cellSize),this.renderedCubes.push(h.canvas)}drawIsoCube(t,e,s,i,a,r,n,h){var o=h*this.sqrt3/2,h=h/2;n*=-1,t.strokeStyle=r[0],t.fillStyle=r[3],t.beginPath(),c.pathClosedShape(t,[[e,s-2*h+n],[e+o,s-h+n],[e+2*o,s-2*h+n],[e+o,s-3*h+n]]),t.fill(),t.stroke(),i&&(t.fillStyle=r[2],t.beginPath(),c.pathClosedShape(t,[[e,s],[e+o,s+h],[e+o,s-h+n],[e,s-2*h+n]]),t.fill(),t.stroke()),a&&(t.fillStyle=r[1],t.beginPath(),c.pathClosedShape(t,[[e+o,s+h],[e+2*o,s],[e+2*o,s-2*h+n],[e+o,s-h+n]]),t.fill(),t.stroke())}drawCube(t,e,s,i=0,a=0){var r=t*this.xShift-e*this.xShift,n=(t+e+1)*this.yShift;this.drawIsoCube(this.ctx,r,n,!this.isAlive(t,e+1),!this.isAlive(t+1,e),s,i,this.cellSize-2*a)}drawGrid(e,s,i){var a=this.gridHeight*-this.xShift,r=this.gridHeight*this.yShift,n=this.gridWidth*this.xShift,h=this.gridWidth*this.yShift,t=(-this.gridHeight+this.gridWidth)*this.xShift,o=(this.gridHeight+this.gridWidth)*this.yShift,l=this.colors[0];for(let t=0;t<this.gridHeight;++t){const s=t*-this.xShift,i=t*this.yShift;c.drawLine(e,s,i,s+n,i+h,l),c.drawLine(e,-s,i,-s+a,i+r,l)}c.drawLine(e,0,0,n,h,l,3),c.drawLine(e,0,0,a,r,l,3),c.drawLine(e,a,r,t,o,l,3),c.drawLine(e,n,h,t,o,l,3)}drawPrerenderedCube(t,e,s){var i=t*this.xShift-e*this.xShift,e=(t+e+1)*this.yShift;this.ctx.drawImage(this.renderedCubes[s],i-+this.xShift,e-3*this.yShift)}draw(){if(c.clear(this.ctx,this.bgColor),!this.renderedGrid){let t=c.createOffscreenCanvas(this.ctx.canvas.width,this.ctx.canvas.height).getContext("2d");t.translate(this.ctx.canvas.width/2,1/8*this.ctx.canvas.height),this.drawGrid(t,0,0),this.renderedGrid=t.canvas}this.ctx.drawImage(this.renderedGrid,0,0),this.ctx.translate(this.ctx.canvas.width/2,1/8*this.ctx.canvas.height);for(let e=0;e<this.gridHeight;++e)for(let t=0;t<this.gridWidth;++t){var s=this.getVal(t,e);this.fadeDeadCells&&s>-(this.cellSize-2*this.cellBasePadding)?this.drawPrerenderedCube(t,e,Math.max(0,-s)):0<s&&this.drawPrerenderedCube(t,e,0)}this.ctx.resetTransform()}resize(){var t=Math.ceil(.75*this.ctx.canvas.height/this.cellSize);this.resizeGrid(t,t),this.renderedGrid=null}getSettings(){return[{prop:"fadeDeadCells",type:"bool"}]}}e.exports=a},{"./game-of-live":6,"./utils":18}],6:[function(t,e,s){t=t("./animation");class i extends t{constructor(t,e,s,i=12,a=1,r=.5,n="square",h=5){super(t,e,s,"Conway's game of life","game-of-live.js"),this.cellSize=i,this.cellBasePadding=a,this.spawnProb=r,this.cellShape=n,this.deadCellsFadingSteps=h,this.gridWidth=0,this.gridHeight=0,this.grid=null,this.gridNextState=null}getIdx(t,e){return t+e*this.gridWidth}getVal(t,e){return this.grid[this.getIdx(t,e)]}isAlive(t,e){return 1<=this.getVal(t%this.gridWidth,e%this.gridHeight)?1:0}update(t){for(let e=0;e<this.gridHeight;++e)for(let t=0;t<this.gridWidth;++t){var s=this.isAlive(t-1,e-1)+this.isAlive(t,e-1)+this.isAlive(t+1,e-1)+this.isAlive(t-1,e)+this.isAlive(t+1,e)+this.isAlive(t-1,e+1)+this.isAlive(t,e+1)+this.isAlive(t+1,e+1),i=this.getIdx(t,e);2==s&&1<=this.grid[i]?this.gridNextState[i]=this.grid[i]+1:this.gridNextState[i]=3==s?Math.max(1,this.grid[i]+1):Math.min(0,this.grid[i]-1)}[this.grid,this.gridNextState]=[this.gridNextState,this.grid]}drawSquareCell(t,e,s){this.ctx.fillRect(t*this.cellSize+s,e*this.cellSize+s,this.cellSize-2*s,this.cellSize-2*s)}drawCircleCell(t,e,s){this.ctx.beginPath(),this.ctx.arc(t*this.cellSize+this.cellSize/2,e*this.cellSize+this.cellSize/2,this.cellSize/2-s,0,2*Math.PI,!1),this.ctx.fill()}draw(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),"square"===this.cellShape?this.drawCell=this.drawSquareCell:this.drawCell=this.drawCircleCell;var r=(this.cellSize/2-this.cellBasePadding)/(this.deadCellsFadingSteps+1);for(let a=0;a<this.gridHeight;++a)for(let t=0;t<this.gridWidth;++t){var n=this.getVal(t,a);let e=this.cellBasePadding,s=null,i=-1;if(0<n)s=this.colors[0];else for(let t=0;t<this.deadCellsFadingSteps;++t){if(n>i){s=this.colors[Math.min(t,this.colors.length-1)],e+=t*r;break}i*=2}s&&(this.ctx.fillStyle=s,this.drawCell(t,a,e))}}resizeGrid(s,t){let i=new Array(s*t);for(let e=0;e<t;e++)for(let t=0;t<s;t++){var a=t+e*s;t<this.gridWidth&&e<this.gridHeight?i[a]=this.grid[this.getIdx(t,e)]:i[a]=Math.random()<this.spawnProb?1:-99999}this.grid=i,this.gridNextState=[...this.grid],this.gridWidth=s,this.gridHeight=t}resize(){var t=Math.ceil(this.ctx.canvas.width/this.cellSize),e=Math.ceil(this.ctx.canvas.height/this.cellSize);this.resizeGrid(t,e)}getSettings(){return[{prop:"cellSize",type:"int",min:4,max:32,toCall:"resize"},{prop:"cellShape",type:"select",values:["square","circle"]},{prop:"deadCellsFadingSteps",type:"int",min:0,max:8}]}}e.exports=i},{"./animation":2}],7:[function(t,e,s){var i=t("./animation");const y=t("./utils");class a{constructor(t,e){this.w=[...t],this.name=e}update(t){return 0}getW(){return this.w}getName(){return this.name}}class C extends a{constructor(t){super(t,"SGD"),this.eta=.001}update(e){for(let t=0;t<this.w.length;++t)this.w[t]-=this.eta*e[t]}}class M extends a{constructor(t){super(t,"Momentum"),this.eta=.01,this.beta=.9,this.m=new Array(t.length).fill(0)}update(e){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta*this.m[t]+(1-this.beta)*e[t],this.w[t]-=this.eta*this.m[t]}}class b extends a{constructor(t){super(t,"AdaGrad"),this.eta=.1,this.v=new Array(t.length).fill(0)}update(e){for(let t=0;t<this.w.length;++t)this.v[t]+=e[t]*e[t],this.w[t]-=this.eta/Math.sqrt(this.v[t]+1e-6)*e[t]}}class A extends a{constructor(t){super(t,"RMSProp"),this.eta=.01,this.beta=.9,this.v=new Array(t.length).fill(0)}update(e){for(let t=0;t<this.w.length;++t)this.v[t]=this.beta*this.v[t]+(1-this.beta)*e[t]*e[t],this.w[t]-=this.eta/Math.sqrt(this.v[t]+1e-6)*e[t]}}class P extends a{constructor(t){super(t,"Adam"),this.eta=.01,this.beta1=.9,this.beta2=.999,this.m=new Array(t.length).fill(0),this.v=new Array(t.length).fill(0)}update(e){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta1*this.m[t]+(1-this.beta1)*e[t],this.v[t]=this.beta2*this.v[t]+(1-this.beta2)*e[t]*e[t],this.w[t]-=this.eta/(Math.sqrt(this.v[t]/(1-this.beta2))+1e-6)*this.m[t]/(1-this.beta1)}}class I extends a{constructor(t){super(t,"AdaMax"),this.alpha=.001,this.beta1=.9,this.beta2=.999,this.m=new Array(t.length).fill(0),this.v=new Array(t.length).fill(0)}update(e){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta1*this.m[t]+(1-this.beta1)*e[t],this.v[t]=Math.max(this.beta2*this.v[t],Math.abs(e[t])),this.w[t]-=this.alpha/(this.v[t]+1e-6)*this.m[t]/(1-this.beta1)}}class k extends a{constructor(t){super(t,"AMSGrad"),this.alpha=.001,this.beta1=.9,this.beta2=.999,this.m=new Array(t.length).fill(0),this.v=new Array(t.length).fill(0)}update(e){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta1*this.m[t]+(1-this.beta1)*e[t],this.v[t]=Math.max(this.beta2*this.v[t]+(1-this.beta2)*e[t]*e[t],this.v[t]),this.w[t]-=this.alpha/(Math.sqrt(this.v[t])+1e-6)*this.m[t]}}class r{constructor(t,e,s,i,a=[0,0],r=400){this.name=t,this.globalMin=e,this.startPoints=s,this.scale=i,this.steps=r,this.shift=a}val(t){return 0}grad(t){return t}hasGlobalMin(){return null!==this.globalMin}getGlobalMin(){return y.subArrays(this.globalMin,this.shift)}getStartPoint(){return y.subArrays(y.randomChoice(this.startPoints),this.shift)}getScale(){return this.scale}getSteps(){return this.steps}getName(){return this.name}}class n extends r{constructor(){super("Two-dimensional non-convex function with saddle point: f(x, y) = x^2 - y^2",null,[[-1,.001],[-1,-1e-4],[1,.01],[1,-.001]],1.1)}val(t){var e=t[0]+this.shift[0],t=t[1]+this.shift[1];return e*e-t*t}grad(t){return[2*(t[0]+this.shift[0]),-2*(t[1]+this.shift[1])]}}class h extends r{constructor(){super("Two-dimensional non-convex BEALE function",[3,.5],[[.2,.7],[2,2],[-1,-1.3],[-1.4,-1.7],[4,-1.1]],2.2,[2,0])}val(t){var e=t[0]+this.shift[0],t=t[1]+this.shift[1];return Math.pow(1.5-e+e*t,2)+Math.pow(2.25-e+e*t*t,2)+Math.pow(2.625-e+e*Math.pow(t,3),2)}grad(t){var e=t[0]+this.shift[0],s=t[1]+this.shift[1],i=s*s,a=i*s,r=a*s,t=r*s;return[2*e*(t*s+r-2*a-i-2*s+3)+5.25*a+4.5*i+3*s-12.75,6*e*(e*(t+2/3*a-i-1/3*s-1/3)+2.625*i+1.5*s+.5)]}}class o extends r{constructor(){super("Two variables non-convex Stybliski-Tang function",[-2.903534,-2.903534],[[0,5],[0,-5],[5,0],[-5,0],[-.5,-5],[-5,-.5]],5.5)}val(t){var e=t[0]+this.shift[0],s=t[1]+this.shift[1],i=e*e,t=s*s;return(i*i-16*i+5*e+(t*t-16*t+5*s))/2+78.33188}grad(t){var e=t[0]+this.shift[0],t=t[1]+this.shift[1];return[2*Math.pow(e,3)-16*e-2.5,2*Math.pow(t,3)-16*t-2.5]}}class l extends i{constructor(t,e,s,i="random"){super(t,e,s,"visualization of gradient descent algorithms","gradient-descent.js"),this.funcNames=["with saddle point","Beale","Styblinski-Tang"],this.functionToOptimize=this.assignAndCheckIfRandom(i,y.randomChoice(this.funcNames)),this.funcClasses=[n,h,o],this.scale=0,this.optims=null,this.imageData=null}draw(){this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);for(let e=0;e<this.optims.length;++e){var s,i,a,r;let t=this.optims[e];[s,i]=t.getW(),t.update(this.func.grad(t.getW())),[a,r]=t.getW(),y.drawLine(this.ctx,s*this.scale,-i*this.scale,a*this.scale,-r*this.scale,this.colorsAlt[e],2)}this.ctx.resetTransform(),this.frame>=this.func.getSteps()&&this.resize()}resize(){y.clear(this.ctx,this.bgColor);let t=this.funcClasses[this.funcNames.indexOf(this.functionToOptimize)];this.func=new t,this.frame=0,this.imageData=null;var s=this.ctx.canvas.width,i=this.ctx.canvas.height,a=s/2,r=i/2;this.scale=Math.min(s,i)/this.func.getScale()/2,this.ctx.fillStyle=this.colors[0],this.ctx.font="12px sans-serif";let n=new Array(s*i),h,o,l,c=0;l=this.func.hasGlobalMin()?(c=this.func.val(this.func.getGlobalMin()),h=[0,.125],o=1.5,0):(c=0,S=this.func.getScale(),v=[this.func.val([0,0]),this.func.val([S,0]),this.func.val([0,S]),this.func.val([-S,0]),this.func.val([0,-S]),this.func.val([S,S]),this.func.val([-S,-S]),this.func.val([S,-S]),this.func.val([-S,S])],S=Math.min(...v),v=Math.max(...v),h=[S],o=1,(v-S)/15);for(let e=0;e<s;++e)for(let t=0;t<i;++t){for(var d=(e-a)/this.scale,p=-(t-r)/this.scale,u=this.func.val([d,p]),g=e+t*s;u>c+h[h.length-1];)h.push(h[h.length-1]*o+l);for(let t=1;t<h.length;++t)if(u<c+h[t]){n[g]=t-1;break}}let m=[];for(let t=0;t<h.length;++t)m.push(y.lerpColor(this.colors[0],this.colors[this.colors.length-1],(t+1)/(h.length+1)));for(let e=0;e<s;++e)for(let t=0;t<i;++t){var f=e+t*s,x=-3*n[f]+n[f+1]+n[f+s]+n[f+1+s];this.ctx.fillStyle=m[n[f]],0!==x&&4!==x&&this.ctx.fillRect(e,t,1,1)}this.ctx.fillStyle=this.colors[0];let e=.5;3<this.scale&&(e=1);for(let t=0;t<a/this.scale;t+=e)this.ctx.fillText(t.toFixed(1),a+t*this.scale,i-22),0!==t&&this.ctx.fillText((-t).toFixed(1),a-t*this.scale,i-22);for(let t=0;t<r/this.scale;t+=e)this.ctx.fillText(t.toFixed(1),10,r+t*this.scale),0!==t&&this.ctx.fillText((-t).toFixed(1),10,r-t*this.scale);var v=this.func.getStartPoint();this.optims=[new C(v),new M(v),new b(v),new A(v),new P(v),new I(v),new k(v)];let w=22;var S;this.ctx.fillText(this.func.getName(),50,w),this.func.hasGlobalMin()&&(w+=20,S=this.func.getGlobalMin(),this.ctx.fillText("Optimum: f(x*) = "+Math.round(1e4*this.func.val(S))/1e4+", at x* =  ("+S[0]+", "+S[1]+")",50,w),y.fillCircle(this.ctx,a+S[0]*this.scale,r+-S[1]*this.scale,2,this.colors[0])),w+=20,this.ctx.fillText("Starting point: x0 = ("+v[0]+", "+v[1]+")",50,w),w+=40,this.ctx.fillText("Optimizers:",50,w);for(let t=0;t<this.optims.length;++t)w+=20,this.ctx.fillStyle=this.colorsAlt[t],this.ctx.font="12px sans-serif",this.ctx.fillText("    "+this.optims[t].getName(),50,w),y.fillCircle(this.ctx,53,w-4,3,this.colorsAlt[t]);this.imageData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}getSettings(){return[{prop:"functionToOptimize",type:"select",values:this.funcNames,toCall:"resize"}]}}e.exports=l},{"./animation":2,"./utils":18}],8:[function(require,module,exports){"use strict";const Utils=require("./utils"),ThreeNPlusOne=require("./3n+1"),Cardioids=require("./cardioids"),CircularWaves=require("./circular-waves"),GameOfLife=require("./game-of-live"),GameOfLifeIsometric=require("./game-of-live-isometric"),GradientDescent=require("./gradient-descent"),NeuralNetwork=require("./neural-network"),ParticlesAndAttractors=require("./particles-and-attractors"),ParticlesVortex=require("./particles-vortex"),ParticlesWaves=require("./particles-waves"),PerlinNoiseParticles=require("./perlin-noise-particles"),Sorting=require("./sorting"),SpinningShapes=require("./spinning-shapes"),Spirograph=require("./spirograph"),canvas=document.getElementById("background"),container=document.getElementById("container");var lastWidth=0,lastHeight=0,needResize=!1,framesInterval=0,then=0,paused=!1;const colors=["#0058B5","#0070b5","#0193c9","#03b2d9","#007fb5","#03609a"],colorsAlt=["#602180","#b6245c","#e14f3b","#ec8c4d","#fff202","#99f32b","#106aa6","#283b93"],content=document.getElementById("content"),elemBgShow=document.getElementById("background-show"),elemBgName=document.getElementById("background-name"),elemBgNext=document.getElementById("background-next"),elemBgCode=document.getElementById("background-code"),elemBgReset=document.getElementById("background-reset"),elemBgPlayPause=document.getElementById("background-play-pause"),elemBgSettings=document.getElementById("background-settings"),elemBgSettingsControls=document.getElementById("background-settings-controls"),elemBgSettingsClose=document.getElementById("background-settings-close");let animations=[ThreeNPlusOne,Cardioids,CircularWaves,GameOfLife,GameOfLifeIsometric,GradientDescent,NeuralNetwork,ParticlesAndAttractors,ParticlesVortex,ParticlesWaves,PerlinNoiseParticles,Sorting,SpinningShapes,Spirograph];Utils.randomShuffle(animations);let animationId=0,animation=new animations[animationId](canvas,colors,colorsAlt);function updateAnimation(t){var e=t.getFPS();framesInterval=1e3/e,then=Date.now(),elemBgName.innerHTML=t.getName(),elemBgCode.href=t.getCodeUrl(),updateSettings(t.getSettings()),t.resize()}function render(){var t,e,s;paused||(t=(s=Date.now())-then,requestAnimationFrame(render),t<framesInterval||(then=s,e=Math.max(container.offsetWidth,window.innerWidth),s=Math.max(container.offsetHeight,window.innerHeight),e!==lastWidth||s!==lastHeight?needResize=!0:needResize&&(canvas.width=e,canvas.height=s,animation.resize(),needResize=!1),lastHeight=s,lastWidth=e,animation.update(t),animation.draw()))}function play(){elemBgPlayPause.innerHTML='<i class="fas fa-pause"></i> pause',paused=!1,then=Date.now(),render()}function pause(){elemBgPlayPause.innerHTML='<i class="fas fa-play"></i> play',paused=!0}function hideBackground(){content.classList.remove("fade-out"),content.classList.add("fade-in"),canvas.classList.remove("show-from-10"),canvas.classList.add("fade-to-10"),elemBgShow.innerHTML='<i class="fas fa-eye"></i> show'}function showBackground(){content.classList.remove("fade-in"),content.classList.add("fade-out"),canvas.classList.remove("faded-10"),canvas.classList.remove("fade-to-10"),canvas.classList.add("show-from-10"),elemBgShow.innerHTML='<i class="fas fa-eye-slash"></i> hide'}function closeSettings(){elemBgSettingsControls.classList.remove("fade-in"),elemBgSettingsControls.classList.add("fade-out")}function showSettings(){elemBgSettingsControls.classList.remove("fade-out"),elemBgSettingsControls.classList.add("fade-in"),elemBgSettingsControls.style.display="block"}function updateSettings(settings){let elemBgSettingsList=document.getElementById("background-settings-controls-list");elemBgSettingsControls&&elemBgSettingsList&&(elemBgSettingsList.innerHTML="",0===settings.length&&(elemBgSettingsList.innerHTML="There are no settings (yet) for this animation"),settings.forEach(function(setting,index){const value=eval(`animation.${setting.prop}`),elemId=setting.prop.split(/(?=[A-Z])/).join("-").toLowerCase()+"-controls",name=setting.prop.split(/(?=[A-Z])/).join(" ").toLowerCase();let optionControls='<div><span class="setting-name">'+name+" = </span>";if(["int","float","bool"].includes(setting.type)){let inputType="range";"bool"===setting.type&&(inputType="checkbox"),optionControls+=`<span class="nowrap"><input type="${inputType}" class="setting-input"`+` name="${setting.prop}" id="${elemId}" value="${value}"`,["int","float"].includes(setting.type)&&(setting.step?optionControls+=` step="${setting.step}"`:"float"===setting.type?optionControls+=' step="0.01"':optionControls+=' step="1"',optionControls+=` min="${setting.min}" max="${setting.max}"`),"bool"===setting.type&&value&&(optionControls+=" checked"),optionControls+=`>[<output class="setting-value">${value}</output>]`}if("select"===setting.type){optionControls+=`<select class="setting-select" name="${setting.prop}" id="${elemId}">`;for(var v of setting.values)v===value?optionControls+=`<option selected value="${v}">${v}</option>`:optionControls+=`<option value="${v}">${v}</option>`;optionControls+="</select>"}optionControls+="</span></div>",elemBgSettingsList.innerHTML+=optionControls}),settings.forEach(function(setting,index){const elemId=setting.prop.split(/(?=[A-Z])/).join("-").toLowerCase()+"-controls";let elem=document.getElementById(elemId);elem&&elem.addEventListener("input",function(e){if(console.log(setting,e.target.value),"checkbox"===e.target.type)e.target.nextElementSibling&&(e.target.nextElementSibling.value=e.target.checked),eval(`animation.${setting.prop} = e.target.checked;`);else{e.target.nextElementSibling&&(e.target.nextElementSibling.value=e.target.value);let value=e.target.value;"int"===setting.type?value=parseInt(e.target.value):"float"===setting.type&&(value=parseFloat(e.target.value)),eval(`animation.${setting.prop} = value;`)}setting.toCall&&animation[setting.toCall](),elemBgName.innerHTML=animation.getName(),play()})}))}updateAnimation(animation),render(),elemBgShow&&elemBgShow.addEventListener("click",function(){(content.classList.contains("fade-out")?hideBackground:showBackground)()}),elemBgNext&&elemBgNext.addEventListener("click",function(){animationId=(animationId+1)%animations.length,animation=new animations[animationId](canvas,colors,colorsAlt),updateAnimation(animation),play()}),elemBgReset&&elemBgReset.addEventListener("click",function(){animation=new animations[animationId](canvas,colors,colorsAlt),updateAnimation(animation),play()}),elemBgPlayPause&&elemBgPlayPause.addEventListener("click",function(){(!1===paused?pause:play)()}),elemBgSettings&&elemBgSettingsControls&&elemBgSettingsClose&&(elemBgSettings.addEventListener("click",function(){(elemBgSettingsControls.classList.contains("fade-in")?closeSettings:showSettings)()}),elemBgSettingsClose.addEventListener("click",function(){closeSettings()}),elemBgSettingsControls.addEventListener("mousedown",function(t){t.target===t.currentTarget&&(t.target.classList.add("moving"),t.target.clickAnchorX=t.clientX-parseInt(t.target.style.left),t.target.clickAnchorY=t.clientY-parseInt(t.target.style.top))}),addEventListener("mousemove",function(t){elemBgSettingsControls.classList.contains("moving")&&(elemBgSettingsControls.style.left=t.clientX-elemBgSettingsControls.clickAnchorX+"px",elemBgSettingsControls.style.top=t.clientY-elemBgSettingsControls.clickAnchorY+"px")}),addEventListener("mouseup",function(t){elemBgSettingsControls.classList.remove("moving")}))},{"./3n+1":1,"./cardioids":3,"./circular-waves":4,"./game-of-live":6,"./game-of-live-isometric":5,"./gradient-descent":7,"./neural-network":9,"./particles-and-attractors":11,"./particles-vortex":12,"./particles-waves":13,"./perlin-noise-particles":14,"./sorting":15,"./spinning-shapes":16,"./spirograph":17,"./utils":18}],9:[function(t,e,s){var i=t("./animation");const c=t("./utils");class a extends i{constructor(t,e,s){super(t,e,s,"visualization of simple neural network","neural-network.js"),this.network=[],this.nLayers=0,this.baseNodeSize=3,this.baseLineSize=1}getFPS(){return 1.5}update(t){if(0!==this.network.length){for(var e of this.network[0])e.v=c.randomRange(-1,1);for(let e=1;e<this.nLayers;e++)for(var s of this.network[e]){for(let t=s.v=0;t<this.network[e-1].length;++t)s.v+=this.network[e-1][t].v*s.w[t];e===this.nLayers-1?s.nlv=1/(1+Math.exp(-s.v)):s.nlv=Math.max(0,s.v)}}}draw(){c.clear(this.ctx,this.bgColor);for(let t=0;t<this.nLayers-1;t++){var e,s=this.network[t],i=this.network[t+1];for(e of s)for(var a of i){var r=c.clip(e.v,0,1),n=this.colors[this.colors.length-1-Math.floor(r*this.colors.length)];this.ctx.globalAlpha=r,c.drawLine(this.ctx,e.x,e.y,a.x,a.y,n,1+r)}}this.ctx.globalAlpha=1;for(let e=0;e<this.nLayers;++e){var h;for(h of this.network[e]){var o=c.clip(h.nlv,0,1),l=c.clip(2*h.nlv,0,4),o=this.colors[this.colors.length-1-Math.floor(o*this.colors.length)],l=this.baseNodeSize+l;c.fillCircle(this.ctx,h.x,h.y,l,o),this.ctx.font="12px sans-serif";let t=`ReLU(${c.round(h.v,2)}) = ${c.round(h.nlv,2)}`;0===e?t=`${c.round(h.v,2)}`:e===this.nLayers-1&&(t=`Sigmoid(${c.round(h.v,2)}) = ${c.round(h.nlv,2)}`),this.ctx.fillText(t,h.x-2.5*t.length,h.y-3*this.baseNodeSize)}}}resize(){c.clear(this.ctx,"#FFFFFF");var t=this.ctx.canvas.width,r=this.ctx.canvas.height;this.network=[],this.nLayers=c.clip(Math.floor(t/150),3,7);var e=50*t/500,n=(t-2*e)/(this.nLayers-1),h=r/17;let o=e;for(let a=0;a<this.nLayers;a++){let e=[],s=0;s=0==a||a==this.nLayers-1?Math.floor(c.randomRange(4,16)):c.randomChoice([8,12,16]);let i=r/2-Math.floor(s/2)*h;s%2==0&&(i+=h/2);for(let t=0;t<s;t++){let t={x:o,y:i,v:0,nlv:0,w:null};0<a&&(t.w=c.randomArray(this.network[a-1].length,-1,1)),e.push(t),i+=h}this.network.push(e),o+=n}this.update(0),this.draw()}}e.exports=a},{"./animation":2,"./utils":18}],10:[function(t,e,s){!function(t){t=t.noise={};function e(t,e,s){this.x=t,this.y=e,this.z=s}e.prototype.dot2=function(t,e){return this.x*t+this.y*e},e.prototype.dot3=function(t,e,s){return this.x*t+this.y*e+this.z*s};var i=[new e(1,1,0),new e(-1,1,0),new e(1,-1,0),new e(-1,-1,0),new e(1,0,1),new e(-1,0,1),new e(1,0,-1),new e(-1,0,-1),new e(0,1,1),new e(0,-1,1),new e(0,1,-1),new e(0,-1,-1)],a=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],C=new Array(512),M=new Array(512);t.seed=function(t){0<t&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var e=0;e<256;e++){var s=1&e?a[e]^255&t:a[e]^t>>8&255;C[e]=C[e+256]=s,M[e]=M[e+256]=i[s%12]}},t.seed(0);var p=.5*(Math.sqrt(3)-1),u=(3-Math.sqrt(3))/6,b=1/6;function g(t){return t*t*t*(t*(6*t-15)+10)}function m(t,e,s){return(1-s)*t+s*e}t.simplex2=function(t,e){var s=(t+e)*p,i=Math.floor(t+s),a=Math.floor(e+s),r=(i+a)*u,n=t-i+r,h=e-a+r,o=h<n?(d=1,0):(d=0,1),l=n-d+u,c=h-o+u,s=n-1+2*u,t=h-1+2*u,e=M[(i&=255)+C[a&=255]],r=M[i+d+C[a+o]],d=M[1+i+C[1+a]],o=.5-n*n-h*h,i=.5-l*l-c*c,a=.5-s*s-t*t;return 70*((o<0?0:(o*=o)*o*e.dot2(n,h))+(i<0?0:(i*=i)*i*r.dot2(l,c))+(a<0?0:(a*=a)*a*d.dot2(s,t)))},t.simplex3=function(t,e,s){var i,a,r=(t+e+s)*(1/3),n=Math.floor(t+r),h=Math.floor(e+r),o=Math.floor(s+r),l=(n+h+o)*b,c=t-n+l,d=e-h+l,p=s-o+l,u=d<=c?p<=d?(y=S=i=1,w=a=0):S=p<=c?(y=w=a=0,i=1):(y=a=i=0,w=1):d<p?(S=a=i=0,y=w=1):c<p?(S=w=i=0,y=a=1):(y=S=a=1,w=i=0),g=c-i+b,m=d-a+b,f=p-w+b,x=c-S+2*b,v=d-y+2*b,r=p-u+2*b,t=c-1+.5,e=d-1+.5,s=p-1+.5,l=M[(n&=255)+C[(h&=255)+C[o&=255]]],w=M[n+i+C[h+a+C[o+w]]],S=M[n+S+C[h+y+C[o+u]]],y=M[1+n+C[1+h+C[1+o]]],u=.6-c*c-d*d-p*p,n=.6-g*g-m*m-f*f,h=.6-x*x-v*v-r*r,o=.6-t*t-e*e-s*s;return 32*((u<0?0:(u*=u)*u*l.dot3(c,d,p))+(n<0?0:(n*=n)*n*w.dot3(g,m,f))+(h<0?0:(h*=h)*h*S.dot3(x,v,r))+(o<0?0:(o*=o)*o*y.dot3(t,e,s)))},t.perlin2=function(t,e){var s=Math.floor(t),i=Math.floor(e);t-=s,e-=i;var a=M[(s&=255)+C[i&=255]].dot2(t,e),r=M[s+C[1+i]].dot2(t,e-1),n=M[1+s+C[i]].dot2(t-1,e),i=M[1+s+C[1+i]].dot2(t-1,e-1),t=g(t);return m(m(a,n,t),m(r,i,t),g(e))},t.perlin3=function(t,e,s){var i=Math.floor(t),a=Math.floor(e),r=Math.floor(s);t-=i,e-=a,s-=r;var n=M[(i&=255)+C[(a&=255)+C[r&=255]]].dot3(t,e,s),h=M[i+C[a+C[1+r]]].dot3(t,e,s-1),o=M[i+C[1+a+C[r]]].dot3(t,e-1,s),l=M[i+C[1+a+C[1+r]]].dot3(t,e-1,s-1),c=M[1+i+C[a+C[r]]].dot3(t-1,e,s),d=M[1+i+C[a+C[1+r]]].dot3(t-1,e,s-1),p=M[1+i+C[1+a+C[r]]].dot3(t-1,e-1,s),r=M[1+i+C[1+a+C[1+r]]].dot3(t-1,e-1,s-1),t=g(t),e=g(e),s=g(s);return m(m(m(n,c,t),m(h,d,t),s),m(m(o,p,t),m(l,r,t),s),e)}}(this)},{}],11:[function(t,e,s){var i=t("./animation");const d=t("./utils");class a extends i{constructor(t,e,s,i=1e4,a="random",r=.03,n=5,h="random",o="random",l=!1,c=1){super(t,e,s,"system of particles and attractors","particles-and-attractors.js"),this.particles=[],this.numParticles=i,this.particlesSpeed=this.assignAndCheckIfRandom(a,d.round(d.randomRange(5,15))),this.fadingSpeed=r,this.drawAttractors=l,this.numAttractors=n,this.attractorsSystems=["orbits","eights"],this.attractorsSystem=this.assignAndCheckIfRandom(h,d.randomChoice(this.attractorsSystems)),this.attractorsSpeed=this.assignAndCheckIfRandom(o,d.round(d.randomRange(.05,.1)*d.randomChoice([-1,1]))),this.attractorsPosition=0,this.startingPosition=d.randomRange(0,10),this.scale=c,this.setup()}setup(){this.particles=[];for(let t=0;t<this.numParticles;++t)this.particles.push(d.rotateVec2d(d.createVec2d(d.randomRange(1,100),0),t))}update(t){this.time+=t/1e3,++this.frame,this.attractorsPosition+=t/1e3*this.attractorsSpeed}draw(){this.fadeOut(this.fadingSpeed),this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2),this.ctx.scale(this.scale,this.scale);var e,s=this.startingPosition+this.attractorsPosition;let i=[];if("orbits"===this.attractorsSystem){var a=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/(2*(this.numAttractors-1));for(let t=0;t<this.numAttractors;++t)i.push(d.rotateVec2d(d.createVec2d(t*a,0),s*t))}else if("eights"===this.attractorsSystem){var r=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/this.numAttractors;for(let t=0;t<this.numAttractors;++t)i.push(d.rotateVec2d(d.createVec2d(t*Math.sin(s*Math.PI/2)*r,0),s*t))}for(e of this.particles){let t=0;for(var n of i)t+=Math.atan2(n.y-e.y,n.x-e.x);var h=e.x,o=e.y;e.x+=Math.cos(t)*this.particlesSpeed,e.y+=Math.sin(t)*this.particlesSpeed,d.drawLine(this.ctx,h,o,e.x,e.y,this.colors[0])}if(this.drawAttractors)for(var t of i)d.fillCircle(this.ctx,t.x,t.y,5,this.colorsAlt[2]);this.ctx.resetTransform()}resize(){d.clear(this.ctx,"#FFFFFF")}getSettings(){return[{prop:"numParticles",type:"int",min:1e3,max:15e3,toCall:"setup"},{prop:"particlesSpeed",type:"float",min:1,max:20},{prop:"fadingSpeed",type:"float",step:.001,min:0,max:.1},{prop:"attractorsSystem",type:"select",values:this.attractorsSystems},{prop:"numAttractors",type:"int",min:3,max:7},{prop:"attractorsSpeed",type:"float",min:-.2,max:.2},{prop:"drawAttractors",type:"bool"},{prop:"scale",type:"float",min:.05,max:1.95}]}}e.exports=a},{"./animation":2,"./utils":18}],12:[function(t,e,s){var i=t("./animation");const d=t("./noise"),p=t("./utils");class a extends i{constructor(t,e,s,i=1500,a=100,r=200,n=25,h=50,o=.01,l=.02,c=1){super(t,e,s,"vortex of particles","particles-vortex.js"),this.noise=d.noise,this.noise.seed(p.randomRange(0,1)),this.particles=i,this.radius=p.randomRange(a,r),this.speed=p.randomRange(n,h)*p.randomChoice([-1,1]),this.rotationSpeed=p.randomRange(o,l)*p.randomChoice([-1,1]),this.dirX=p.randomRange(-.75,.75),this.dirY=p.randomRange(-.75,.75),this.scale=c}draw(){p.clear(this.ctx,"#FFFFFF"),this.ctx.lineWidth=1,this.ctx.strokeStyle=this.colors[0];var t=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/4,e=this.ctx.canvas.width/2+this.dirX*t,t=this.ctx.canvas.height/2+this.dirY*t,s=Math.round(this.time*this.speed)/2;this.ctx.translate(e,t),this.ctx.scale(this.scale,this.scale),this.ctx.beginPath();for(let t=1;t<=this.particles;t++){var i=this.radius+Math.pow(t/(this.particles/1.5),2)*t/2,a=100*this.noise.perlin2(.1*t+s,.1)+s*this.rotationSpeed,r=Math.cos(a)*i+Math.sqrt(t*this.radius)*this.dirX,i=Math.sin(a)*i+Math.sqrt(t*this.radius)*this.dirY;p.pathCircle(this.ctx,r,i,.01*t)}this.ctx.stroke(),this.ctx.resetTransform()}}e.exports=a},{"./animation":2,"./noise":10,"./utils":18}],13:[function(t,e,s){var i=t("./animation");const n=t("./noise"),h=t("./utils");class a extends i{constructor(t,e,s,i=48,a=.001,r=.02){super(t,e,s,"particles waves","particles-waves.js"),this.particlePer100PixSq=i,this.noiseScale=a,this.noise=n.noise,this.noise.seed(h.randomRange(0,1)),this.fadingSpeed=r,this.particles=[],this.width=0,this.height=0}update(t){this.time+=t/1e3,++this.frame;for(var e of this.particles){var s=2*this.noise.perlin3(e.x*this.noiseScale*2,e.y*this.noiseScale*3,this.frame*this.noiseScale*3)*Math.PI;e.x+=2*Math.tan(s),e.y+=2*Math.sin(s),e.x<0&&(e.x=this.width),e.x>this.width&&(e.x=0),e.y<0&&(e.y=this.height),e.y>this.height&&(e.y=0)}}draw(){this.fadeOut(this.fadingSpeed);for(var t of this.particles)this.ctx.fillStyle=t.color,this.ctx.fillRect(t.x,t.y,1,1)}resize(){h.clear(this.ctx,this.bgColor),this.width=this.ctx.canvas.width,this.height=this.ctx.canvas.height;var e=this.width/100*this.height/100*this.particlePer100PixSq;this.particles=[];for(let t=0;t<e;t++){var s=Math.random()*this.width,i=Math.random()*this.height;this.particles.push({x:s,y:i,color:h.lerpColor(this.colorA,this.colorB,s/this.width)})}}getSettings(){return[{prop:"particlePer100PixSq",type:"int",min:1,max:128,toCall:"resize"},{prop:"noiseScale",type:"float",step:1e-4,min:0,max:.01},{prop:"fadingSpeed",type:"float",step:.001,min:0,max:.1}]}}e.exports=a},{"./animation":2,"./noise":10,"./utils":18}],14:[function(t,e,s){var i=t("./animation");const o=t("./noise"),l=t("./utils");class a extends i{constructor(t,e,s,i=4,a=.001,r=1,n=!1,h=0){super(t,e,s,"particles moving through Perlin noise","perlin-noise-particles.js"),this.particlePer100PixSq=i,this.noiseScale=a,this.noise=o.noise,this.noise.seed(l.randomRange(0,1)),this.drawNoise=n,this.particlesSpeed=r,this.fadingSpeed=h,this.width=0,this.height=0,this.particles=[],this.imageData=null}update(t){this.time+=t/1e3,++this.frame;let e=1,s=this.particlesSpeed;for(;1<s;)s/=2,e*=2;for(var i of this.particles)i.prevX=i.x,i.prevY=i.y;for(let t=0;t<e;++t)for(var a of this.particles){var r=2*this.noise.perlin2(a.x*this.noiseScale,a.y*this.noiseScale)*Math.PI/this.noiseScale;a.x+=Math.cos(r)*a.speed*s,a.y+=Math.sin(r)*a.speed*s}}draw(){this.fadeOut(this.fadingSpeed);for(var t of this.particles)l.drawLine(this.ctx,t.prevX,t.prevY,t.x,t.y,t.color,2*t.radius);this.imageData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}spawnParticles(e,s,i,a){var r=i/100*a/100*this.particlePer100PixSq;for(let t=0;t<r;t++){var n=Math.random()*i+e,h=Math.random()*a+s;this.particles.push({x:n,y:h,prevX:n,prevY:h,speed:.2*Math.random()+.1,radius:.5*Math.random()+.5,color:l.randomChoice(this.colors)})}}resize(){l.clear(this.ctx,this.bgColor),null!==this.imageData&&this.ctx.putImageData(this.imageData,0,0);var t=this.ctx.canvas.width-this.width,e=this.ctx.canvas.height-this.height;if(0<t&&this.spawnParticles(this.width,0,t,this.height),0<e&&this.spawnParticles(0,this.height,this.width,e),(0<t||0<e)&&this.spawnParticles(this.width,this.height,t,e),this.width=Math.max(this.ctx.canvas.width,this.width),this.height=Math.max(this.ctx.canvas.height,this.height),this.drawNoise){var s=this.ctx.canvas.width*this.noiseScale,i=this.ctx.canvas.height*this.noiseScale,a=s/this.ctx.canvas.width*10;for(let e=0;e<i;e+=a)for(let t=0;t<s;t+=a){var r=Math.floor(250*this.noise.perlin2(t,e));this.ctx.fillStyle="hsl("+r+",50%,50%)",this.ctx.fillRect(t/s*this.ctx.canvas.width,e/i*this.ctx.canvas.height,10,10)}}}getSettings(){return[{prop:"particlesSpeed",type:"float",min:.25,max:32},{prop:"fadingSpeed",type:"float",step:1e-4,min:0,max:.01}]}}e.exports=a},{"./animation":2,"./noise":10,"./utils":18}],15:[function(t,e,s){var i=t("./animation");const u=t("./utils");class a{constructor(){this.queue=[]}push(t){this.queue.push({step:t,time:0})}step(e){let s=!0;if(this.queue.length){let t=this.queue[0];t.time+=e,s=t.step(t.time),s&&this.queue.shift()}return s&&!this.queue.length}}class r{constructor(t,e){this.arr=t,this.moves=[],this.cmpCount=0,this.name=e,this.sort()}getName(){return this.name}comp(t,e,s){return e!==s&&(++this.cmpCount,this.moves.push(["cmp",t[e],t[s]])),t[e].val-t[s].val}compVal(t,e){return t!==e&&(++this.cmpCount,this.moves.push(["cmp",t,e])),t.val-e.val}swap(t,e,s){this.moves.push(["swap",[t[e],t[s]],[t[s],t[e]]]);var i=t[e];t[e]=t[s],t[s]=i}rearrange(e,s,i){let a=[],r=[];for(let t=0;t<s.length;++t)a.push(this.arr[s[t]]),r.push(this.arr[i[t]]);for(let t=0;t<s.length;++t)e[s[t]]=r[t];this.moves.push(["swap",r,a])}sort(){}getMoves(){return this.moves}}class d extends r{constructor(t){super(t,"bubble sort")}sort(){var i=this.arr.length;for(let s=0;s<i;s++){let e=!0;for(let t=0;t<i-1-s;t++)0<this.comp(this.arr,t,t+1)&&(this.swap(this.arr,t,t+1),e=!1);if(e)break}}}class p extends r{constructor(t){super(t,"selection sort")}sort(){var i=this.arr.length;for(let s=0;s<i;s++){let e=s;for(let t=s;t<i;t++)0<this.comp(this.arr,e,t)&&(e=t);s!==e&&this.swap(this.arr,s,e)}}}class g extends r{constructor(t){super(t,"insertion sort")}sort(){var t=this.arr.length;for(let e=1;e<t;e++){let t=e;for(;0<t&&this.comp(this.arr,t,t-1)<0;)this.swap(this.arr,t,t-1),--t}}}class m extends r{constructor(t){super(t,"merge sort")}sort(){this.mergeSort(0,this.arr.length-1)}mergeSort(t,e){var s;t<e&&(s=Math.floor((t+e)/2),this.mergeSort(t,s),this.mergeSort(s+1,e),this.merge(t,s,e))}merge(t,s,i){let a=t,r=s+1;if(!(this.comp(this.arr,s,r)<=0)){let t=[],e=[];for(let t=a;t<=i;++t)e.push(t);for(;a<=s&&r<=i;)this.comp(this.arr,a,r)<0?t.push(a++):t.push(r++);for(;a<=s;)t.push(a++);for(;r<=i;)t.push(r++);this.rearrange(this.arr,e,t)}}}class f extends r{constructor(t){super(t,"quick sort")}sort(){this.quickSort(0,this.arr.length-1)}quickSort(t,e){var s;1<=e-t&&(t<(s=this.partition(t,e))-1&&this.quickSort(t,s-1),s<e&&this.quickSort(s,e))}partition(t,e){for(var s=this.arr[Math.floor((e+t)/2)];t<=e;){for(;this.compVal(this.arr[t],s)<0;)t++;for(;0<this.compVal(this.arr[e],s);)e--;t<=e&&this.swap(this.arr,t++,e--)}return t}}class n extends i{constructor(t,e,s,i="random",a=100,r=2,n=.25,h=.25,o=1,l,c=!1){super(t,e,s,"Sorting algorithm visualization","sorting.js"),this.numElements=a,this.elementPadding=r,this.cmpDuration=n,this.swapDuration=h,this.speed=o,this.showStats=c,this.sortAlgoNames=["selection sort","bubble sort","insertion sort","quick sort","merge sort"],this.sortAlgoClasses=[p,d,g,f,m],this.sortingAlgorithm=this.assignAndCheckIfRandom(i,u.randomChoice(this.sortAlgoNames)),this.cmpTotal=0,this.cmpCount=0,this.setup()}setup(){this.animQueue=new a,this.elements=[];for(let t=0;t<this.numElements;++t){var e=u.randomRange(0,1),s=u.lerpColor(this.colors[0],this.colors[this.colors.length-1],e);this.elements.push({val:e,pos:t,color:s,z:0})}let t=this.sortAlgoClasses[this.sortAlgoNames.indexOf(this.sortingAlgorithm)],i=new t(this.elements);this.moves=i.getMoves(),this.name=i.getName()+" algorithm visualization",this.cmpTotal=i.cmpCount,this.cmpCount=0}update(t){if(t/=1e3,t*=this.speed,this.time+=t,++this.frame,this.animQueue.step(t)&&this.moves.length){t=this.moves[0];const n=t=>t<.5?u.easeInOutCubic(2*t):1-u.easeInOutCubic(2*t-1),h=u.easeInOutSine;if("cmp"===t[0]){++this.cmpCount;let s=t[1],i=t[2];const a=s.color,r=i.color,o=this.colorsAlt[3],l=this.cmpDuration;this.animQueue.push(function(t){var e=Math.min(t,l)/l;return s.color=u.lerpColor(a,o,n(e)),i.color=u.lerpColor(r,o,n(e)),t>=l})}if("swap"===t[0]){let s=t[1],e=t[2],i=[],a=[],r=[];const c=this.colorsAlt[1],d=this.frame,p=this.swapDuration*s.length;for(let t=0;t<s.length;++t)i.push(s[t].pos),a.push(e[t].pos),r.push(s[t].color);this.animQueue.push(function(t){var e=Math.min(t,p)/p;for(let t=0;t<s.length;++t)s[t].z=d,s[t].color=u.lerpColor(r[t],c,n(e)),s[t].pos=u.lerp(i[t],a[t],h(e));return t>=p})}this.moves.shift()}}draw(){u.clear(this.ctx,"#FFFFFF");var t,e=this.ctx.canvas.height,s=this.ctx.canvas.width/this.numElements;this.elements=this.elements.sort((t,e)=>t.z-e.z);for(t of this.elements){var i=t.pos*s+this.elementPadding/2,a=t.val*e;this.ctx.fillStyle=t.color,this.ctx.fillRect(i,0,s-this.elementPadding,a)}this.showStats&&(this.ctx.font="12px sans-serif",this.ctx.fillStyle=this.colors[0],this.ctx.fillText(`Sorting algorithm: ${this.sortingAlgorithm}`,20,e-60),this.ctx.fillText(`Number of elements: ${this.numElements}`,20,e-40),this.ctx.fillText(`Number of element comparisons: ${this.cmpCount} / ${this.cmpTotal}`,20,e-20))}getSettings(){return[{prop:"sortingAlgorithm",type:"select",values:this.sortAlgoNames,toCall:"setup"},{prop:"numElements",type:"int",min:8,max:256,toCall:"setup"},{prop:"speed",type:"float",step:.25,min:.5,max:8},{prop:"showStats",type:"bool"}]}}e.exports=n},{"./animation":2,"./utils":18}],16:[function(t,e,s){var i=t("./animation");const o=t("./utils");class a extends i{constructor(t,e,s,i=500,a=0,r=!1,n=1,h=!1){super(t,e,s,"","spinning-shapes.js"),this.shapeSides=[0,1,2,3,4,5,6,8],this.shapeNames=["circles","points","lines","triangles","rectangles","pentagons","hexagons","octagons"],this.sides=this.assignAndCheckIfRandom(a,o.randomChoice(this.shapeSides)),this.updateName(),this.rotateShapes=r,this.shapes=i,this.distBase=.6,this.distVar=.2,this.sizeBase=.2,this.sizeVar=.12,this.scale=n,this.rainbowColors=h}updateName(){this.name=this.shapeNames[this.shapeSides.indexOf(this.sides)]+" moving in a circle"}draw(){o.clear(this.ctx,"#FFFFFF");var e=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/3*this.scale;this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);for(let t=0;t<this.shapes;++t){var s=t/this.shapes*2*Math.PI,i=(this.distBase+this.distVar*Math.cos(6*s+Math.cos(8*s+this.time/2)))*e,a=Math.cos(s)*i,r=Math.sin(s)*i,i=(this.sizeBase+this.sizeVar*Math.cos(9*s-this.time))*e;this.rainbowColors?this.ctx.strokeStyle="hsl("+(Math.cos(9*s-this.time)+1)/2*360+", 100%, 75%)":this.ctx.strokeStyle=o.lerpColor(this.colorA,this.colorB,(Math.cos(9*s-this.time)+1)/2),this.ctx.lineWidth=1,this.ctx.beginPath(),0===this.sides&&o.pathCircle(this.ctx,a,r,i),1===this.sides?o.pathCircle(this.ctx,a,r,1):o.pathPolygon(this.ctx,a,r,i,this.sides,s*this.rotateShapes),this.ctx.stroke()}this.ctx.resetTransform()}getSettings(){return[{prop:"sides",type:"int",min:0,max:8,toCall:"updateName"},{prop:"shapes",type:"int",min:0,max:2500},{prop:"rotateShapes",type:"bool"},{prop:"scale",type:"float",min:.05,max:1.95,toCall:"resize"},{prop:"rainbowColors",type:"bool"}]}}e.exports=a},{"./animation":2,"./utils":18}],17:[function(t,e,s){var i=t("./animation");const o=t("./utils");class a extends i{constructor(t,e,s,i=2500,a=2,r="random"){super(t,e,s,"spirograph","spirograph.js"),this.points=i,this.length=a,this.maxGears=5,this.gearCount=this.assignAndCheckIfRandom(r,o.randomInt(2,this.maxGears)),this.gearNames=["zero","one","two","three","four","five"],this.updateName(),this.gears=[];for(let t=0;t<this.maxGears;++t)this.gears.push({radius:o.round(o.randomRange(0,100),2),rate:o.round(o.randomRange(-100,100),2),phase:.005*t})}updateName(){this.name="spirograph with "+this.gearNames[this.gearCount]+" random gears"}getXY(e,s,i=1){let a=0,r=0;for(let t=0;t<this.gearCount;++t){var n=this.gears[t];a+=n.radius*i*Math.cos(n.rate*(e+s*n.phase)),r+=n.radius*i*Math.sin(n.rate*(e+s*n.phase))}return{x:a,y:r}}draw(){o.clear(this.ctx,this.bgColor);let e=0;for(let t=0;t<this.gearCount;++t)e+=this.gears[t].radius;var s=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/2/e;this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);var i=Math.PI*this.length,a=i/this.points;let r=this.getXY(0,this.time,s);for(let t=0;t<=i;t+=a){var n=this.getXY(t,this.time,s),h=o.lerpColor(this.colorA,this.colorB,t/i);o.drawLine(this.ctx,r.x,r.y,n.x,n.y,h,1),r=n}this.ctx.resetTransform()}getSettings(){let e=[{prop:"points",type:"int",min:100,max:1e4},{prop:"length",type:"float",step:.25,min:1,max:8},{prop:"gearCount",type:"int",min:1,max:this.maxGears,toCall:"updateName"}];for(let t=0;t<this.maxGears;++t)e=e.concat([{prop:`gears[${t}].radius`,type:"float",step:.01,min:0,max:100},{prop:`gears[${t}].rate`,type:"float",step:.01,min:-100,max:100},{prop:`gears[${t}].phase`,type:"float",step:.001,min:-.1,max:.1}]);return e}}e.exports=a},{"./animation":2,"./utils":18}],18:[function(require,module,exports){module.exports={randomRange(t,e){return Math.random()*(e-t)+t},randomInt(t,e){return Math.floor(this.randomRange(t,e))},randomChoice(t){return t[Math.floor(Math.random()*t.length)]},randomBoxMuller(){return Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())},randomArray(t,e,s){return Array(t).fill().map(()=>this.randomRange(e,s))},randomShuffle(e){for(let t=e.length-1;0<t;--t){var s=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[s],e[s]=i}},round(t,e=2){e=Math.pow(10,e);return Math.round(t*e)/e},addArrays(t,s){return t.map((t,e)=>t+s[e])},subArrays(t,s){return t.map((t,e)=>t-s[e])},mulArrays(t,s){return t.map((t,e)=>t*s[e])},clip(t,e,s){return Math.max(e,Math.min(s,t))},remap(t,e,s,i,a){return i+(t-e)/(s-e)*(a-i)},sum(t){let e=0;for(var s of t)e+=a;return e},lerp(t,e,s){return(1-s)*t+s*e},lerpColor(t,e,s){t=parseInt(t.replace("#","0x"),16);return ar=t>>16,ag=t>>8&255,ab=255&t,bh=parseInt(e.replace("#","0x"),16),br=bh>>16,bg=bh>>8&255,bb=255&bh,rr=ar+s*(br-ar),rg=ag+s*(bg-ag),rb=ab+s*(bb-ab),"#"+((1<<24)+(rr<<16)+(rg<<8)+rb|0).toString(16).slice(1)},lerpColorsPallet(t,e){var s=1/(t.length-1),i=Math.floor(e/s);return this.lerpColor(t[i%t.length],t[(i+1)%t.length],(e-i*s)/s)},mirrorColorsPallet(t){},easeInSine(t){return 1-Math.cos(t*Math.PI/2)},easeOutSine(t){return Math.sin(t*Math.PI/2)},easeInOutSine(t){return-(Math.cos(Math.PI*t)-1)/2},easeInQuad(t){return t*t},easeOutQuad(t){return 1-(1-t)*(1-t)},easeInOutQuad(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInCubic(t){return t*t*t},easeOutCubic(t){return 1-Math.pow(1-t,3)},easeInOutCubic(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1-Math.pow(1-t,4)},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},clear(t,e){t.fillStyle=e,t.fillRect(0,0,t.canvas.width,t.canvas.height)},pathLine(t,e,s,i,a){t.moveTo(e,s),t.lineTo(i,a)},drawLine(t,e,s,i,a,r,n=1){t.lineWidth=n,t.strokeStyle=r,t.beginPath(),t.moveTo(e,s),t.lineTo(i,a),t.stroke()},pathPolygon(e,s,i,a,r,n=0){var h=2*Math.PI/r;e.moveTo(s+a*Math.cos(n),i+a*Math.sin(n));for(let t=1;t<=r;t++)e.lineTo(s+a*Math.cos(n+t*h),i+a*Math.sin(n+t*h))},pathCircle(t,e,s,i){t.moveTo(e+i,s),t.arc(e,s,i,0,2*Math.PI,!1)},fillCircle(t,e,s,i,a){t.fillStyle=a,t.beginPath(),t.arc(e,s,i,0,2*Math.PI,!1),t.fill()},strokeCircle(t,e,s,i,a){t.strokeStyle=a,t.beginPath(),t.arc(e,s,i,0,2*Math.PI,!1),t.stroke()},pathShape(e,s){if(s.length){e.moveTo(s[0][0],s[0][1]);for(let t=1;t<s.length;++t)e.lineTo(s[t][0],s[t][1])}},pathClosedShape(t,e){e.length&&(this.pathShape(t,e),t.lineTo(e[0][0],e[0][1]))},blendColor(t,e,s=1,i="source-over"){t.save(),t.globalCompositeOperation=i,t.globalAlpha=s,t.fillStyle=e,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore()},createVec2d(t,e){return{x:t,y:e}},rotateVec2d(t,e){var s=Math.cos(e),e=Math.sin(e);return{x:t.x*s-t.y*e,y:t.x*e+t.y*s}},rgbToHex(t,e,s){return"#"+((1<<24)+(t<<16)+(e<<8)+s).toString(16).slice(1)},createOffscreenCanvas(t,e){let s=document.createElement("canvas");return s.width=t,s.height=e,s},isStrictMode(){return eval("var __temp = null"),"undefined"==typeof __temp?"strict":"non-strict"},addMultipleEventListener(e,t,s){t.forEach(t=>e.addEventListener(t,s))}}},{}]},{},[8]);