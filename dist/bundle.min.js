/*!
 * mwydmuch.pl v0.0.5
 * Copyright 2021 Marek Wydmuch
 */

!function e(a,h,r){function n(i,t){if(!h[i]){if(!a[i]){var s="function"==typeof require&&require;if(!t&&s)return s(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}s=h[i]={exports:{}};a[i][0].call(s.exports,function(t){var s=a[i][1][t];return n(s||t)},s,s.exports,e,a,h,r)}return h[i].exports}for(var o="function"==typeof require&&require,t=0;t<r.length;t++)n(r[t]);return n}({1:[function(t,s,i){t=t("./animation");class e extends t{constructor(t,s,i,e=30,a=8,h=-20){super(t,s,i,"3n + 1 (Collatz Conjecture) visualization","3n+1.js"),this.length=e,this.evenAngle=a*Math.PI/180,this.oddAngle=h*Math.PI/180,this.seqences=[]}update(t){let s=this.seqences.length+1,i=[s];for(;1!=s;)s%2?s=3*s+1:s/=2,i.push(s);this.seqences.push(i)}drawSequence(s){let i=this.ctx.canvas.width/2,e=this.ctx.canvas.height,a=270*Math.PI/180;this.ctx.strokeStyle=this.colors[this.frame%this.colors.length],this.ctx.lineWidth=2;for(let t=s.length-2;0<=t;--t)this.ctx.beginPath(),this.ctx.moveTo(i,e),s[t]%2?a+=this.oddAngle:a+=this.evenAngle,i+=this.length*Math.cos(a),e+=this.length*Math.sin(a),this.ctx.lineTo(i,e),this.ctx.stroke()}draw(){for(;this.frame<this.seqences.length;)this.drawSequence(this.seqences[this.frame]),++this.frame}resize(){this.frame=0,this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}}s.exports=e},{"./animation":2}],2:[function(t,s,i){s.exports=class{constructor(t,s,i,e,a){this.ctx=t.getContext("2d",{alpha:!1}),this.bgColor="#FFFFFF",this.colors=s,this.colorsAlt=i,this.name=e,this.file=a,this.time=0,this.frame=0}getFPS(){return 24}getName(){return this.name}getCodeUrl(){return"https://github.com/mwydmuch/mwydmuch.github.io/blob/master/src/"+this.file}update(t){this.time+=t/1e3,++this.frame}resize(){}}},{}],3:[function(t,s,i){var e=t("./animation");const o=t("./noise"),l=t("./utils");class a extends e{constructor(t,s,i,e=2,a=.5,h=.4,r=1.2,n=!0){super(t,s,i,"circular waves","circular-waves.js"),this.noise=o.noise,this.noise.seed(l.randomRange(0,1)),this.degPerVertex=e,this.noiseScale=a,this.noiseMin=h,this.noiseMax=r,this.fadeOut=n,this.color1=this.colors[0],this.color2=this.colorsAlt[0],this.radiusMin=0,this.radiusMax=0}draw(){this.fadeOut&&this.frame%10==0&&l.blendColor(this.ctx,"#FFFFFF",.01,"lighter");var s=.005*this.frame;this.ctx.strokeStyle=l.lerpColor(this.color1,this.color2,Math.abs(Math.sin(5*s))),this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2),this.ctx.beginPath();for(let t=0;t<=360;t+=this.degPerVertex){var i=t*Math.PI/180,e=Math.cos(i)*this.noiseScale,a=Math.sin(i)*this.noiseScale,e=this.noise.simplex3(e,a,s),a=l.remap(e,-1,1,this.radiusMin,this.radiusMax),e=a*Math.cos(i),i=a*Math.sin(i);0==t?this.ctx.moveTo(e,i):this.ctx.lineTo(e,i)}this.ctx.stroke(),this.ctx.resetTransform()}resize(){this.radiusMin=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.noiseMin,this.radiusMax=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.noiseMax,l.clear(this.ctx,"#FFFFFF")}}s.exports=a},{"./animation":2,"./noise":8,"./utils":13}],4:[function(t,s,i){t=t("./animation");class e extends t{constructor(t,s,i,e=10){super(t,s,i,"Conway's Game of Life","game-of-live.js"),this.cellSize=e,this.gridWidth=0,this.gridHeight=0,this.grid=null,this.gridNextState=null}getIdx(t,s){return t+s*this.gridWidth}getVal(t,s){return this.grid[this.getIdx(t,s)]}isAlive(t,s){return!(t<0||t>=this.gridWidth||s<0||s>=this.gridHeight)&&1==this.getVal(t,s)?1:0}update(t){for(let s=0;s<this.gridHeight;++s)for(let t=0;t<this.gridWidth;++t){var i=this.isAlive(t-1,s-1)+this.isAlive(t,s-1)+this.isAlive(t+1,s-1)+this.isAlive(t-1,s)+this.isAlive(t+1,s)+this.isAlive(t-1,s+1)+this.isAlive(t,s+1)+this.isAlive(t+1,s+1),e=this.getIdx(t,s);2==i&&1==this.grid[e]?this.gridNextState[e]=this.grid[e]:this.gridNextState[e]=3==i?1:this.grid[e]-1}[this.grid,this.gridNextState]=[this.gridNextState,this.grid]}draw(){this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(let e=0;e<this.gridHeight;++e)for(let i=0;i<this.gridWidth;++i){var a=this.getVal(i,e);let t=1,s=null;0<=a?s=this.colors[0]:-2<=a?(s=this.colors[1],t+=1):-4<=a?(s=this.colors[2],t+=2):-16<=a&&(s=this.colors[3],t+=3),s&&(this.ctx.fillStyle=s,this.ctx.fillRect(i*this.cellSize+t,e*this.cellSize+t,this.cellSize-2*t,this.cellSize-2*t))}}resize(){var i=Math.ceil(this.ctx.canvas.width/this.cellSize),t=Math.ceil(this.ctx.canvas.height/this.cellSize);let e=new Array(i*t);for(let s=0;s<t;s++)for(let t=0;t<i;t++){var a=t+s*i;t<this.gridWidth&&s<this.gridHeight?e[a]=this.grid[this.getIdx(t,s)]:e[a]=.5<Math.random()?1:0}this.grid=e,this.gridNextState=[...this.grid],this.gridWidth=i,this.gridHeight=t}}s.exports=e},{"./animation":2}],5:[function(t,s,i){var e=t("./animation");const w=t("./utils");class a{constructor(t,s){this.w=[...t],this.name=s}update(t){return 0}getW(){return this.w}getName(){return this.name}}class M extends a{constructor(t){super(t,"SGD"),this.eta=.001}update(s){for(let t=0;t<this.w.length;++t)this.w[t]-=this.eta*s[t]}}class y extends a{constructor(t){super(t,"Momentum"),this.eta=.01,this.beta=.9,this.m=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta*this.m[t]+(1-this.beta)*s[t],this.w[t]-=this.eta*this.m[t]}}class F extends a{constructor(t){super(t,"AdaGrad"),this.eta=.1,this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.v[t]+=s[t]*s[t],this.w[t]-=this.eta/Math.sqrt(this.v[t]+1e-6)*s[t]}}class b extends a{constructor(t){super(t,"RMSProp"),this.eta=.01,this.beta=.9,this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.v[t]=this.beta*this.v[t]+(1-this.beta)*s[t]*s[t],this.w[t]-=this.eta/Math.sqrt(this.v[t]+1e-6)*s[t]}}class S extends a{constructor(t){super(t,"Adam"),this.eta=.01,this.beta1=.9,this.beta2=.999,this.m=new Array(t.length).fill(0),this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta1*this.m[t]+(1-this.beta1)*s[t],this.v[t]=this.beta2*this.v[t]+(1-this.beta2)*s[t]*s[t],this.w[t]-=this.eta/(Math.sqrt(this.v[t]/(1-this.beta2))+1e-6)*this.m[t]/(1-this.beta1)}}class h{constructor(t,s,i,e,a=500,h=[0,0]){this.name=t,this.globalMin=s,this.startPoint=i,this.scale=e,this.steps=a,this.shift=h}val(t){return 0}grad(t){return t}hasGlobalMin(){return null!=this.globalMin}getGlobalMin(){return w.subArrays(this.globalMin,this.shift)}getStartPoint(){return w.subArrays(this.startPoint,this.shift)}getScale(){return this.scale}getSteps(){return this.steps}getName(){return this.name}}class r extends h{constructor(){super("f(x, y) = x^2 - y^2",null,[-1,.001],1.1)}val(t){var s=t[0]+this.shift[0],t=t[1]+this.shift[1];return s*s-t*t}grad(t){return[2*(t[0]+this.shift[0]),-2*(t[1]+this.shift[1])]}}class n extends h{constructor(){super("Beale function",[3,.5],[.2,.7],2,500,[2,0])}val(t){var s=t[0]+this.shift[0],t=t[1]+this.shift[1];return Math.pow(1.5-s+s*t,2)+Math.pow(2.25-s+s*t*t,2)+Math.pow(2.625-s+s*Math.pow(t,3),2)}grad(t){var s=t[0]+this.shift[0],i=t[1]+this.shift[1],e=i*i,a=Math.pow(i,3),h=Math.pow(i,4),t=Math.pow(i,5);return[2*s*(Math.pow(i,6)+h-2*a-e-2*i+3)+5.25*a+4.5*e+3*i-12.75,6*s*(s*(t+2/3*a-e-1/3*i-1/3)+2.625*e+1.5*i+.5)]}}class o extends e{constructor(t,s,i){super(t,s,i,"gradient descent","gradient-descent.js"),this.funcClass=w.randomChoice([r,n]),this.func=new this.funcClass,this.scale=0,this.optims=null,this.imageData=null}draw(){this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);for(let s=0;s<this.optims.length;++s){var i,e,a,h;let t=this.optims[s];[i,e]=t.getW(),t.update(this.func.grad(t.getW())),[a,h]=t.getW(),w.drawLine(this.ctx,i*this.scale,-e*this.scale,a*this.scale,-h*this.scale,this.colorsAlt[s],2)}this.ctx.resetTransform(),this.frame>=this.func.getSteps()&&this.resize()}reset(){var t;null!=this.imageData?(this.ctx.putImageData(this.imageData,0,0),t=this.func.getStartPoint(),this.optims=[new M(t),new y(t),new F(t),new b(t),new S(t)]):this.resize()}resize(){w.clear(this.ctx,"#FFFFFF"),this.frame=0,this.imageData=null;var i=this.ctx.canvas.width,e=this.ctx.canvas.height,a=i/2,h=e/2;this.scale=Math.min(i,e)/this.func.getScale()/2;let s=22;var t;this.ctx.fillStyle=this.colors[0],this.ctx.font="12px sans-serif",this.ctx.fillText(this.func.getName(),50,s),this.func.hasGlobalMin()&&(s+=20,t=this.func.getGlobalMin(),this.ctx.fillText("f(x*) = "+this.func.val(t)+", at x* =  ("+t[0]+", "+t[1]+")",50,s),w.fillCircle(this.ctx,this.colors[0],a+t[0]*this.scale,h+-t[1]*this.scale,2)),s+=40,this.ctx.fillText("Optimizers:",50,s);let r=new Array(i*e),n,o,l,c=0;l=this.func.hasGlobalMin()?(c=this.func.val(this.func.getGlobalMin()),n=[0,.125],o=2,0):(c=0,p=this.func.getScale(),t=[this.func.val([0,0]),this.func.val([p,0]),this.func.val([0,p]),this.func.val([-p,0]),this.func.val([0,-p]),this.func.val([p,p]),this.func.val([-p,-p]),this.func.val([p,-p]),this.func.val([-p,p])],p=Math.min(...t),t=Math.max(...t),n=[p],o=1,(t-p)/10);for(let s=0;s<i;++s)for(let t=0;t<e;++t){for(var d=(s-a)/this.scale,u=-(t-h)/this.scale,f=this.func.val([d,u]),g=s+t*i;f>c+n[n.length-1];)n.push(n[n.length-1]*o+l);for(let t=1;t<n.length;++t)if(f<c+n[t]){r[g]=t-1;break}}let x=[];for(let t=0;t<n.length;++t)x.push(w.lerpColor(this.colors[0],this.colors[this.colors.length-1],(t+1)/(n.length+1)));for(let s=0;s<i;++s)for(let t=0;t<e;++t){var m=s+t*i,v=-3*r[m]+r[m+1]+r[m+i]+r[m+1+i];this.ctx.fillStyle=x[r[m]],0!=v&&4!=v&&this.ctx.fillRect(s,t,1,1)}this.ctx.fillStyle=this.colors[0];for(let t=0;t<a/this.scale;t+=.5)this.ctx.fillText(t.toFixed(1),a+t*this.scale,e-22),0!=t&&this.ctx.fillText((-t).toFixed(1),a-t*this.scale,e-22);for(let t=0;t<h/this.scale;t+=.5)this.ctx.fillText(t.toFixed(1),10,h+t*this.scale),0!=t&&this.ctx.fillText((-t).toFixed(1),10,h-t*this.scale);var p=this.func.getStartPoint();this.optims=[new M(p),new y(p),new F(p),new b(p),new S(p)];for(let t=0;t<this.optims.length;++t)s+=20,this.ctx.fillStyle=this.colorsAlt[t],this.ctx.font="12px sans-serif",this.ctx.fillText("    "+this.optims[t].getName(),50,s),w.fillCircle(this.ctx,this.colorsAlt[t],53,s-4,3);this.imageData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}}s.exports=o},{"./animation":2,"./utils":13}],6:[function(t,s,i){"use strict";var e=t("./game-of-live"),a=t("./perlin-noise-particles"),h=t("./spinning-shapes"),r=t("./neural-network"),n=t("./3n+1"),o=t("./circular-waves"),l=t("./particles-vortex"),c=t("./particles-and-attractors"),t=t("./gradient-descent");const d=document.getElementById("background"),u=document.getElementById("container");var f=0,g=0,x=!1,m=0,v=0,p=!1;const w=["#349BA9","#41B8AD","#73D4AD","#AEEABF"],M=["#4E2463","#B53C6B","#E36D5D","#ECAA7D","#1D5C86","#2B3875"],y=document.getElementById("content"),F=document.getElementById("background-show"),b=document.getElementById("background-name"),S=document.getElementById("background-next"),A=document.getElementById("background-code"),P=document.getElementById("background-reset"),k=document.getElementById("background-stop"),C=[e,a,h,r,n,o,l,c,t];let L=Math.floor(Math.random()*C.length),z=new C[L](d,w,M);function T(t){var s=t.getFPS();m=1e3/s,v=Date.now(),b.innerHTML=t.getName(),A.href=t.getCodeUrl(),t.resize()}function I(){var t,s,i;p||(t=(i=Date.now())-v,requestAnimationFrame(I),t<m||(v=i,s=Math.max(u.offsetWidth,window.innerWidth),i=Math.max(u.offsetHeight,window.innerHeight),s!=f||i!=g?x=!0:x&&(d.width=s,d.height=i,z.resize(),x=!1),g=i,f=s,z.update(t),z.draw()))}function D(){k.innerHTML='<i class="fas fa-stop"></i> stop',p=!1,v=Date.now(),I()}T(z),I(),F.addEventListener("click",function(){" show"==F.innerText?(y.classList.remove("show-from-0"),y.classList.add("fade-to-0"),d.classList.remove("faded-8"),d.classList.remove("fade-to-8"),d.classList.add("hue-change"),d.classList.add("show-from-8"),F.innerHTML='<i class="fas fa-eye-slash"></i> hide'):(y.classList.remove("fade-to-0"),y.classList.add("show-from-0"),d.classList.remove("show-from-8"),d.classList.add("fade-to-8"),d.classList.remove("hue-change"),F.innerHTML='<i class="fas fa-eye"></i> show')}),S.addEventListener("click",function(){L=(L+1)%C.length,z=new C[L](d,w,M),T(z),D()}),P.addEventListener("click",function(){z=new C[L](d,w,M),z.resize(),D()}),k.addEventListener("click",function(){" stop"==k.innerText?(p=!0,k.innerHTML='<i class="fas fa-play"></i> play'):D()})},{"./3n+1":1,"./circular-waves":3,"./game-of-live":4,"./gradient-descent":5,"./neural-network":7,"./particles-and-attractors":9,"./particles-vortex":10,"./perlin-noise-particles":11,"./spinning-shapes":12}],7:[function(t,s,i){var e=t("./animation");const c=t("./utils");class a extends e{constructor(t,s,i){super(t,s,i,"visualization of simple neural network","neural-network.js"),this.network=[],this.nLayers=0,this.baseNodeSize=3,this.baseLineSize=1}getFPS(){return 1.5}update(t){if(0!=this.network.length){for(var s of this.network[0])s.v=c.randomRange(-1,1);for(let s=1;s<this.nLayers;s++)for(var i of this.network[s]){for(let t=i.v=0;t<this.network[s-1].length;++t)i.v+=this.network[s-1][t].v*i.w[t];s==this.nLayers-1?i.v=1/(1+Math.exp(-i.v)):i.v=Math.max(0,i.v)}}}draw(){c.clear(this.ctx,"#FFFFFF");for(let t=0;t<this.nLayers-1;t++){var s,i=this.network[t],e=this.network[t+1];for(s of i)for(var a of e){var h=c.clip(s.v,0,1),r=this.colors[this.colors.length-1-Math.floor(h*this.colors.length)];this.ctx.globalAlpha=h,c.drawLine(this.ctx,s.x,s.y,a.x,a.y,r,1+h)}}this.ctx.globalAlpha=1;for(var t of this.network)for(var n of t){var o=c.clip(n.v,0,1),l=c.clip(2*n.v,0,4),o=this.colors[this.colors.length-1-Math.floor(o*this.colors.length)],l=this.baseNodeSize+l;c.fillCircle(this.ctx,o,n.x,n.y,l),this.ctx.font="12px sans-serif",this.ctx.fillText(n.v.toFixed(2),n.x-11,n.y-2*this.baseNodeSize)}}resize(){c.clear(this.ctx,"#FFFFFF");var t=this.ctx.canvas.width,h=this.ctx.canvas.height;this.network=[],this.nLayers=c.clip(Math.floor(t/150),3,7);var s=50*t/500,r=(t-2*s)/(this.nLayers-1),n=h/17;let o=s;for(let a=0;a<this.nLayers;a++){let s=[],i=0;i=0==a||a==this.nLayers-1?Math.floor(c.randomRange(4,16)):c.randomChoice([8,12,16]);let e=h/2-Math.floor(i/2)*n;i%2==0&&(e+=n/2);for(let t=0;t<i;t++){let t={x:o,y:e,v:0,w:null};0<a&&(t.w=c.randomArray(this.network[a-1].length,-1,1)),s.push(t),e+=n}this.network.push(s),o+=r}this.update(0),this.draw()}}s.exports=a},{"./animation":2,"./utils":13}],8:[function(t,s,i){!function(t){t=t.noise={};function s(t,s,i){this.x=t,this.y=s,this.z=i}s.prototype.dot2=function(t,s){return this.x*t+this.y*s},s.prototype.dot3=function(t,s,i){return this.x*t+this.y*s+this.z*i};var e=[new s(1,1,0),new s(-1,1,0),new s(1,-1,0),new s(-1,-1,0),new s(1,0,1),new s(-1,0,1),new s(1,0,-1),new s(-1,0,-1),new s(0,1,1),new s(0,-1,1),new s(0,1,-1),new s(0,-1,-1)],a=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],F=new Array(512),b=new Array(512);t.seed=function(t){0<t&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var s=0;s<256;s++){var i=1&s?a[s]^255&t:a[s]^t>>8&255;F[s]=F[s+256]=i,b[s]=b[s+256]=e[i%12]}},t.seed(0);var u=.5*(Math.sqrt(3)-1),f=(3-Math.sqrt(3))/6,S=1/6;function g(t){return t*t*t*(t*(6*t-15)+10)}function x(t,s,i){return(1-i)*t+i*s}t.simplex2=function(t,s){var i=(t+s)*u,e=Math.floor(t+i),a=Math.floor(s+i),h=(e+a)*f,r=t-e+h,n=s-a+h,o=n<r?(d=1,0):(d=0,1),l=r-d+f,c=n-o+f,i=r-1+2*f,t=n-1+2*f,s=b[(e&=255)+F[a&=255]],h=b[e+d+F[a+o]],d=b[1+e+F[1+a]],o=.5-r*r-n*n,e=.5-l*l-c*c,a=.5-i*i-t*t;return 70*((o<0?0:(o*=o)*o*s.dot2(r,n))+(e<0?0:(e*=e)*e*h.dot2(l,c))+(a<0?0:(a*=a)*a*d.dot2(i,t)))},t.simplex3=function(t,s,i){var e,a,h=(t+s+i)*(1/3),r=Math.floor(t+h),n=Math.floor(s+h),o=Math.floor(i+h),l=(r+n+o)*S,c=t-r+l,d=s-n+l,u=i-o+l,f=d<=c?u<=d?(y=M=e=1,w=a=0):M=u<=c?(y=w=a=0,e=1):(y=a=e=0,w=1):d<u?(M=a=e=0,y=w=1):c<u?(M=w=e=0,y=a=1):(y=M=a=1,w=e=0),g=c-e+S,x=d-a+S,m=u-w+S,v=c-M+2*S,p=d-y+2*S,h=u-f+2*S,t=c-1+.5,s=d-1+.5,i=u-1+.5,l=b[(r&=255)+F[(n&=255)+F[o&=255]]],w=b[r+e+F[n+a+F[o+w]]],M=b[r+M+F[n+y+F[o+f]]],y=b[1+r+F[1+n+F[1+o]]],f=.6-c*c-d*d-u*u,r=.6-g*g-x*x-m*m,n=.6-v*v-p*p-h*h,o=.6-t*t-s*s-i*i;return 32*((f<0?0:(f*=f)*f*l.dot3(c,d,u))+(r<0?0:(r*=r)*r*w.dot3(g,x,m))+(n<0?0:(n*=n)*n*M.dot3(v,p,h))+(o<0?0:(o*=o)*o*y.dot3(t,s,i)))},t.perlin2=function(t,s){var i=Math.floor(t),e=Math.floor(s);t-=i,s-=e;var a=b[(i&=255)+F[e&=255]].dot2(t,s),h=b[i+F[1+e]].dot2(t,s-1),r=b[1+i+F[e]].dot2(t-1,s),e=b[1+i+F[1+e]].dot2(t-1,s-1),t=g(t);return x(x(a,r,t),x(h,e,t),g(s))},t.perlin3=function(t,s,i){var e=Math.floor(t),a=Math.floor(s),h=Math.floor(i);t-=e,s-=a,i-=h;var r=b[(e&=255)+F[(a&=255)+F[h&=255]]].dot3(t,s,i),n=b[e+F[a+F[1+h]]].dot3(t,s,i-1),o=b[e+F[1+a+F[h]]].dot3(t,s-1,i),l=b[e+F[1+a+F[1+h]]].dot3(t,s-1,i-1),c=b[1+e+F[a+F[h]]].dot3(t-1,s,i),d=b[1+e+F[a+F[1+h]]].dot3(t-1,s,i-1),u=b[1+e+F[1+a+F[h]]].dot3(t-1,s-1,i),h=b[1+e+F[1+a+F[1+h]]].dot3(t-1,s-1,i-1),t=g(t),s=g(s),i=g(i);return x(x(x(r,c,t),x(n,d,t),i),x(x(o,u,t),x(l,h,t),i),s)}}(this)},{}],9:[function(t,s,i){var e=t("./animation");const l=t("./utils");class a extends e{constructor(t,s,i,e=1e4,a=5,h=!1){super(t,s,i,"system of particles and attractors","particles-and-attractors.js"),this.particles=[],this.particlesSpeed=l.randomRange(5,15),this.drawAttractors=h,this.numAttractors=a,this.attractorsSystem=l.randomChoice(["circles","eights"]),this.attractorsSpeed=l.randomRange(.05,.1)*l.randomChoice([-1,1]),this.timeBase=l.randomRange(0,10);for(let t=0;t<e;++t)this.particles.push(l.rotateVec(l.createVec(l.randomRange(1,100),0),t))}draw(){l.blendColor(this.ctx,"#FFFFFF",.03,"lighter"),this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);var s,i=(this.timeBase+this.time)*this.attractorsSpeed;let e=[];if("circles"==this.attractorsSystem){var a=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/(2*(this.numAttractors-1));for(let t=0;t<this.numAttractors;++t)e.push(l.rotateVec(l.createVec(t*a,0),i*t))}else if("eights"==this.attractorsSystem){var h=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/this.numAttractors;for(let t=0;t<this.numAttractors;++t)e.push(l.rotateVec(l.createVec(t*i*h,0),i*t))}for(s of this.particles){let t=0;for(var r of e)t+=Math.atan2(r.y-s.y,r.x-s.x);var n=s.x,o=s.y;s.x+=Math.cos(t)*this.particlesSpeed,s.y+=Math.sin(t)*this.particlesSpeed,l.drawLine(this.ctx,n,o,s.x,s.y,this.colors[0])}if(this.drawAttractors)for(var t of e)l.fillCircle(this.ctx,this.colorsAlt[0],t.x,t.y,5);this.ctx.resetTransform()}resize(){l.clear(this.ctx,"#FFFFFF")}}s.exports=a},{"./animation":2,"./utils":13}],10:[function(t,s,i){var e=t("./animation");const c=t("./noise"),d=t("./utils");class a extends e{constructor(t,s,i,e=1500,a=100,h=200,r=25,n=50,o=.01,l=.02){super(t,s,i,"vortex of particles","particles-vortex.js"),this.noise=c.noise,this.noise.seed(d.randomRange(0,1)),this.particles=e,this.radius=d.randomRange(a,h),this.speed=d.randomRange(r,n)*d.randomChoice([-1,1]),this.rotationSpeed=d.randomRange(o,l)*d.randomChoice([-1,1]),this.dirX=d.randomRange(-.75,.75),this.dirY=d.randomRange(-.75,.75),this.resize()}draw(){d.clear(this.ctx,"#FFFFFF"),this.ctx.lineWidth=1,this.ctx.strokeStyle=this.colors[0];var t=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/4,s=this.ctx.canvas.width/2+this.dirX*t,t=this.ctx.canvas.height/2+this.dirY*t,i=Math.round(this.time*this.speed)/2;this.ctx.translate(s,t),this.ctx.beginPath();for(let t=1;t<=this.particles;t++){var e=this.radius+Math.pow(t/(this.particles/1.5),2)*t/2,a=100*this.noise.perlin2(.1*t+i,.1)+i*this.rotationSpeed,h=Math.cos(a)*e+Math.sqrt(t*this.radius)*this.dirX,e=Math.sin(a)*e+Math.sqrt(t*this.radius)*this.dirY;d.pathCircle(this.ctx,h,e,.01*t)}this.ctx.stroke(),this.ctx.resetTransform()}}s.exports=a},{"./animation":2,"./noise":8,"./utils":13}],11:[function(t,s,i){var e=t("./animation");const r=t("./noise"),n=t("./utils");class a extends e{constructor(t,s,i,e=4,a=.001,h=!1){super(t,s,i,"particles moving through Perlin noise","perlin-noise-particles.js"),this.particlePer100PixSq=e,this.noiseScale=a,this.noise=r.noise,this.noise.seed(n.randomRange(0,1)),this.drawNoise=h,this.width=0,this.height=0,this.particles=[],this.imageData=null}update(t){for(var s of this.particles){var i=2*this.noise.perlin2(s.x*this.noiseScale,s.y*this.noiseScale)*Math.PI/this.noiseScale;s.prevX=s.x,s.prevY=s.y,s.x+=Math.cos(i)*s.speed,s.y+=Math.sin(i)*s.speed}}draw(){for(var t of this.particles)n.drawLine(this.ctx,t.prevX,t.prevY,t.x,t.y,t.color,2*t.radius);this.imageData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}spawnParticles(s,i,e,a){var h=e/100*a/100*this.particlePer100PixSq;for(let t=0;t<h;t++){var r=Math.random()*e+s,n=Math.random()*a+i;this.particles.push({x:r,y:n,prevX:r,prevY:n,speed:.2*Math.random()+.1,radius:.5*Math.random()+.5,color:this.colors[Math.floor(Math.random()*this.colors.length)]})}}resize(){n.clear(this.ctx,"#FFFFFF"),null!=this.imageData&&this.ctx.putImageData(this.imageData,0,0);var t=this.ctx.canvas.width-this.width,s=this.ctx.canvas.height-this.height;if(0<t&&this.spawnParticles(this.width,0,t,this.height),0<s&&this.spawnParticles(0,this.height,this.width,s),(0<t||0<s)&&this.spawnParticles(this.width,this.height,t,s),this.width=Math.max(this.ctx.canvas.width,this.width),this.height=Math.max(this.ctx.canvas.height,this.height),this.drawNoise){var i=this.ctx.canvas.width*this.noiseScale,e=this.ctx.canvas.height*this.noiseScale,a=i/this.ctx.canvas.width*10;for(let s=0;s<e;s+=a)for(let t=0;t<i;t+=a){var h=Math.floor(250*this.noise.perlin2(t,s));this.ctx.fillStyle="hsl("+h+",50%,50%)",this.ctx.fillRect(t/i*this.ctx.canvas.width,s/e*this.ctx.canvas.height,10,10)}}}}s.exports=a},{"./animation":2,"./noise":8,"./utils":13}],12:[function(t,s,i){var e=t("./animation");const r=t("./utils");class a extends e{constructor(t,s,i,e=500,a=[0],h=!1){super(t,s,i,"","spinning-shapes.js");this.sides=r.randomChoice(a),this.rotatePolygons=h,this.shapes=e,this.name=["circles","triangles","rectangles","pentagons","hexagons","octagons"][[0,3,4,5,6,8].indexOf(this.sides)]+" moving in a circle",this.distBase=.6,this.distVar=.2,this.sizeBase=.2,this.sizeVar=.12}draw(){r.clear(this.ctx,"#FFFFFF");var s=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/3;this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);for(let t=0;t<this.shapes;++t){var i=t/this.shapes*2*Math.PI,e=(this.distBase+this.distVar*Math.cos(6*i+Math.cos(8*i+this.time/2)))*s,a=Math.cos(i)*e,h=Math.sin(i)*e,e=(this.sizeBase+this.sizeVar*Math.cos(9*i-this.time))*s;this.ctx.strokeStyle=this.colors[Math.floor((Math.cos(9*i-this.time)+1)/2*this.colors.length)],this.ctx.lineWidth=1,this.ctx.beginPath(),0==this.sides?r.pathCircle(this.ctx,a,h,e):r.pathPolygon(this.ctx,a,h,e,this.sides,i*this.rotatePolygons),this.ctx.stroke()}this.ctx.resetTransform()}}s.exports=a},{"./animation":2,"./utils":13}],13:[function(require,module,exports){module.exports={randomRange(t,s){return Math.random()*(s-t)+t},randomChoice(t){return t[Math.floor(Math.random()*t.length)]},randomBoxMuller(){return Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())},randomArray(t,s,i){return Array(t).fill().map(()=>this.randomRange(s,i))},addArrays(t,i){return t.map((t,s)=>t+i[s])},subArrays(t,i){return t.map((t,s)=>t-i[s])},mulArrays(t,i){return t.map((t,s)=>t*i[s])},clip(t,s,i){return Math.max(s,Math.min(i,t))},remap(t,s,i,e,a){return e+(t-s)/(i-s)*(a-e)},sum(t){let s=0;for(var i of t)s+=a;return s},lerp(t,s,i){return(1-i)*t+i*s},lerpColor(t,s,i){t=parseInt(t.replace("#","0x"),16);return ar=t>>16,ag=t>>8&255,ab=255&t,bh=parseInt(s.replace("#","0x"),16),br=bh>>16,bg=bh>>8&255,bb=255&bh,rr=ar+i*(br-ar),rg=ag+i*(bg-ag),rb=ab+i*(bb-ab),"#"+((1<<24)+(rr<<16)+(rg<<8)+rb|0).toString(16).slice(1)},clear(t,s){t.fillStyle=s,t.fillRect(0,0,t.canvas.width,t.canvas.height)},pathLine(t,s,i,e,a){t.moveTo(s,i),t.lineTo(e,a)},drawLine(t,s,i,e,a,h,r=1){t.lineWidth=r,t.strokeStyle=h,t.beginPath(),t.moveTo(s,i),t.lineTo(e,a),t.stroke()},pathPolygon(s,i,e,a,h,r=0){var n=2*Math.PI/h;s.moveTo(i+a*Math.cos(r),e+a*Math.sin(r));for(let t=1;t<=h;t++)s.lineTo(i+a*Math.cos(r+t*n),e+a*Math.sin(r+t*n))},pathCircle(t,s,i,e){t.moveTo(s+e,i),t.arc(s,i,e,0,2*Math.PI,!1)},fillCircle(t,s,i,e,a){t.fillStyle=s,t.beginPath(),t.arc(i,e,a,0,2*Math.PI,!1),t.fill()},strokeCircle(t,s,i,e,a){t.strokeStyle=s,t.beginPath(),t.arc(i,e,a,0,2*Math.PI,!1),t.stroke()},blendColor(t,s,i=1,e="source-over"){t.save(),t.globalCompositeOperation=e,t.globalAlpha=i,t.fillStyle=s,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore()},createVec(t,s){return{x:t,y:s}},rotateVec(t,s){var i=Math.cos(s),s=Math.sin(s);return{x:t.x*i-t.y*s,y:t.x*s+t.y*i}},isStrictMode(){return eval("var __temp = null"),"undefined"==typeof __temp?"strict":"non-strict"}}},{}]},{},[6]);