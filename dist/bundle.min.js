/*!
 * mwydmuch.pl v0.0.5
 * Copyright 2022 Marek Wydmuch
 */

!function e(h,r,a){function n(i,t){if(!r[i]){if(!h[i]){var s="function"==typeof require&&require;if(!t&&s)return s(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}s=r[i]={exports:{}};h[i][0].call(s.exports,function(t){var s=h[i][1][t];return n(s||t)},s,s.exports,e,h,r,a)}return r[i].exports}for(var o="function"==typeof require&&require,t=0;t<a.length;t++)n(a[t]);return n}({1:[function(t,s,i){t=t("./animation");class e extends t{constructor(t,s,i,e=30,h=8,r=-20){super(t,s,i,"3n + 1 (Collatz Conjecture) visualization","3n+1.js"),this.length=e,this.evenAngle=h,this.oddAngle=r,this.seqences=[],this.drawNumbers=.5<Math.random()}update(t){let s=this.seqences.length+1,i=[s];for(;1!=s;)s%2?s=3*s+1:s/=2,i.push(s);this.seqences.push(i)}drawSequence(s){let i=this.ctx.canvas.width/2,e=this.ctx.canvas.height,h=270*Math.PI/180;var r,a,t=this.colors[this.frame%this.colors.length];this.ctx.strokeStyle=t,this.ctx.lineWidth=2,this.ctx.font="12px sans-serif",this.ctx.fillStyle=t;for(let t=s.length-2;0<=t;--t)this.ctx.beginPath(),this.ctx.moveTo(i,e),s[t]%2?h+=this.oddAngleRad:h+=this.evenAngleRad,this.drawNumbers?(r=Math.cos(h),a=Math.sin(h),i+=this.length/2*r,e+=this.length/2*a,this.ctx.fillText(s[t],i+10,e),i+=this.length/2*r,e+=this.length/2*a):(i+=this.length*Math.cos(h),e+=this.length*Math.sin(h)),this.ctx.lineTo(i,e),this.ctx.stroke()}draw(){for(this.evenAngleRad=this.evenAngle*Math.PI/180,this.oddAngleRad=this.oddAngle*Math.PI/180;this.frame<this.seqences.length;)this.drawSequence(this.seqences[this.frame]),++this.frame}resize(){this.frame=0,this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}getSettings(){return[{prop:"length",type:"int",min:1,max:100,requires_resize:!0},{prop:"evenAngle",type:"int",min:-45,max:45,requires_resize:!0},{prop:"oddAngle",type:"int",min:-45,max:45,requires_resize:!0},{prop:"drawNumbers",type:"bool",requires_resize:!0}]}}s.exports=e},{"./animation":2}],2:[function(t,s,i){s.exports=class{constructor(t,s,i,e,h){this.ctx=t.getContext("2d",{alpha:!1}),this.bgColor="#FFFFFF",this.colors=s,this.colorsAlt=i,this.colorA=s[0],this.colorB=s[3],this.name=e,this.file=h,this.time=0,this.frame=0}getFPS(){return 30}getName(){return this.name}getCodeUrl(){return"https://github.com/mwydmuch/mwydmuch.github.io/blob/master/src/"+this.file}getSettings(){return[]}update(t){this.time+=t/1e3,++this.frame}resize(){}}},{}],3:[function(t,s,i){var e=t("./animation");const h=t("./utils");class r extends e{constructor(t,s,i){super(t,s,i,"cardioids with a pencil of lines","cardioids.js"),this.lines=400,this.radius=0}getVec(t){t=h.remap(t,0,this.lines,0,2*Math.PI);return h.rotateVec2d(h.createVec2d(this.radius,0),Math.PI+t)}draw(){h.clear(this.ctx,this.bgColor),this.radius=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/3,this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2),h.strokeCircle(this.ctx,0,0,this.radius,this.colors[0]);for(let t=0;t<=this.lines;++t){var s=this.getVec(t),i=this.getVec(t*this.time*.05),e=h.lerpColorsPallet([this.colorA,this.colorB,this.colorA],t/this.lines);h.drawLine(this.ctx,s.x,s.y,i.x,i.y,e,1)}this.ctx.resetTransform()}}s.exports=r},{"./animation":2,"./utils":18}],4:[function(t,s,i){var e=t("./animation");const o=t("./noise"),l=t("./utils");class h extends e{constructor(t,s,i,e=2,h=.5,r=.4,a=1.2,n=!0){super(t,s,i,"circular waves","circular-waves.js"),this.noise=o.noise,this.noise.seed(l.randomRange(0,1)),this.degPerVertex=e,this.noiseScale=h,this.noiseMin=r,this.noiseMax=a,this.fadeOut=n,this.radiusMin=0,this.radiusMax=0}draw(){this.fadeOut&&this.frame%10==0&&l.blendColor(this.ctx,this.bgColor,.01,"lighter");var s=.005*this.frame;this.ctx.strokeStyle=l.lerpColor(this.colorA,this.colorB,Math.abs(Math.sin(5*s))),this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2),this.ctx.beginPath();for(let t=0;t<=360;t+=this.degPerVertex){var i=t*Math.PI/180,e=Math.cos(i)*this.noiseScale,h=Math.sin(i)*this.noiseScale,e=this.noise.simplex3(e,h,s),h=l.remap(e,-1,1,this.radiusMin,this.radiusMax),e=h*Math.cos(i),i=h*Math.sin(i);0==t?this.ctx.moveTo(e,i):this.ctx.lineTo(e,i)}this.ctx.stroke(),this.ctx.resetTransform()}resize(){this.radiusMin=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.noiseMin,this.radiusMax=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/2*this.noiseMax,l.clear(this.ctx,"#FFFFFF")}}s.exports=h},{"./animation":2,"./noise":10,"./utils":18}],5:[function(t,s,i){var e=t("./game-of-live");const c=t("./utils");class h extends e{constructor(t,s,i,e=12,h=0,r=.5){super(t,s,i,e,h,r),this.name="isometric Conway's game of life",this.file="game-of-live-isometric.js",this.sqrt3=Math.sqrt(3),this.xShift=this.cellSize*this.sqrt3/2,this.yShift=this.cellSize/2,this.renderedGrid=null,this.renderedCubes=[];var a=c.createOffscreenCanvas(4*this.xShift,4*this.yShift).getContext("2d");this.drawIsoCube(a,0,3*this.yShift,!0,!0,this.colors,0,this.cellSize),this.renderedCubes.push(a.canvas);for(let t=1;t<this.cellSize;++t)a=c.createOffscreenCanvas(4*this.xShift,4*this.yShift).getContext("2d"),this.drawIsoCube(a,0,3*this.yShift,!0,!0,this.colorsAlt,-t,this.cellSize),this.renderedCubes.push(a.canvas)}drawIsoCube(t,s,i,e,h,r,a,n){var o=n*this.sqrt3/2,n=n/2;a*=-1,t.strokeStyle=r[0],t.fillStyle=r[3],t.beginPath(),c.pathClosedShape(t,[[s,i-2*n+a],[s+o,i-n+a],[s+2*o,i-2*n+a],[s+o,i-3*n+a]]),t.fill(),t.stroke(),e&&(t.fillStyle=r[2],t.beginPath(),c.pathClosedShape(t,[[s,i],[s+o,i+n],[s+o,i-n+a],[s,i-2*n+a]]),t.fill(),t.stroke()),h&&(t.fillStyle=r[1],t.beginPath(),c.pathClosedShape(t,[[s+o,i+n],[s+2*o,i],[s+2*o,i-2*n+a],[s+o,i-n+a]]),t.fill(),t.stroke())}drawCube(t,s,i,e=0,h=0){var r=t*this.xShift-s*this.xShift,a=(t+s+1)*this.yShift;this.drawIsoCube(this.ctx,r,a,!this.isAlive(t,s+1),!this.isAlive(t+1,s),i,e,this.cellSize-2*h)}drawGrid(s,i,e){var h=this.gridHeight*-this.xShift,r=this.gridHeight*this.yShift,a=this.gridWidth*this.xShift,n=this.gridWidth*this.yShift,t=(-this.gridHeight+this.gridWidth)*this.xShift,o=(this.gridHeight+this.gridWidth)*this.yShift,l=this.colors[0];for(let t=0;t<this.gridHeight;++t){const i=t*-this.xShift,e=t*this.yShift;c.drawLine(s,i,e,i+a,e+n,l),c.drawLine(s,-i,e,-i+h,e+r,l)}c.drawLine(s,0,0,a,n,l,3),c.drawLine(s,0,0,h,r,l,3),c.drawLine(s,h,r,t,o,l,3),c.drawLine(s,a,n,t,o,l,3)}drawPrerenderedCube(t,s,i){var e=t*this.xShift-s*this.xShift,s=(t+s+1)*this.yShift;this.ctx.drawImage(this.renderedCubes[i],e-+this.xShift,s-3*this.yShift)}draw(){if(c.clear(this.ctx,this.bgColor),!this.renderedGrid){let t=c.createOffscreenCanvas(this.ctx.canvas.width,this.ctx.canvas.height).getContext("2d");t.translate(this.ctx.canvas.width/2,1/8*this.ctx.canvas.height),this.drawGrid(t,0,0),this.renderedGrid=t.canvas}this.ctx.drawImage(this.renderedGrid,0,0),this.ctx.translate(this.ctx.canvas.width/2,1/8*this.ctx.canvas.height);for(let s=0;s<this.gridHeight;++s)for(let t=0;t<this.gridWidth;++t){var i=this.getVal(t,s);i>-(this.cellSize-2*this.cellBasePadding)&&this.drawPrerenderedCube(t,s,Math.max(0,-i))}this.ctx.resetTransform()}resize(){var t=Math.ceil(.75*this.ctx.canvas.height/this.cellSize);this.resizeGrid(t,t),this.renderedGrid=null}}s.exports=h},{"./game-of-live":6,"./utils":18}],6:[function(t,s,i){t=t("./animation");class e extends t{constructor(t,s,i,e=12,h=1,r=.5,a){super(t,s,i,"Conway's game of life","game-of-live.js"),this.cellSize=e,this.cellBasePadding=h,this.spawnProb=r,this.gridWidth=0,this.gridHeight=0,this.grid=null,this.gridNextState=null}getIdx(t,s){return t+s*this.gridWidth}getVal(t,s){return this.grid[this.getIdx(t,s)]}isAlive(t,s){return 1<=this.getVal(t%this.gridWidth,s%this.gridHeight)?1:0}update(t){for(let s=0;s<this.gridHeight;++s)for(let t=0;t<this.gridWidth;++t){var i=this.isAlive(t-1,s-1)+this.isAlive(t,s-1)+this.isAlive(t+1,s-1)+this.isAlive(t-1,s)+this.isAlive(t+1,s)+this.isAlive(t-1,s+1)+this.isAlive(t,s+1)+this.isAlive(t+1,s+1),e=this.getIdx(t,s);2==i&&1<=this.grid[e]?this.gridNextState[e]=this.grid[e]+1:this.gridNextState[e]=3==i?Math.max(1,this.grid[e]+1):Math.min(0,this.grid[e]-1)}[this.grid,this.gridNextState]=[this.gridNextState,this.grid]}draw(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(let h=0;h<this.gridHeight;++h)for(let t=0;t<this.gridWidth;++t){var r=this.getVal(t,h);let s=0,i=null,e=-1;for(let t=0;t<5;++t){if(r>e){i=this.colors[t],s=t+this.cellBasePadding;break}e*=2}i&&(this.ctx.fillStyle=i,this.ctx.fillRect(t*this.cellSize+s,h*this.cellSize+s,this.cellSize-2*s,this.cellSize-2*s))}}resizeGrid(i,t){let e=new Array(i*t);for(let s=0;s<t;s++)for(let t=0;t<i;t++){var h=t+s*i;t<this.gridWidth&&s<this.gridHeight?e[h]=this.grid[this.getIdx(t,s)]:e[h]=Math.random()<this.spawnProb?1:-99999}this.grid=e,this.gridNextState=[...this.grid],this.gridWidth=i,this.gridHeight=t}resize(){var t=Math.ceil(this.ctx.canvas.width/this.cellSize),s=Math.ceil(this.ctx.canvas.height/this.cellSize);this.resizeGrid(t,s)}}s.exports=e},{"./animation":2}],7:[function(t,s,i){var e=t("./animation");const M=t("./utils");class h{constructor(t,s){this.w=[...t],this.name=s}update(t){return 0}getW(){return this.w}getName(){return this.name}}class y extends h{constructor(t){super(t,"SGD"),this.eta=.001}update(s){for(let t=0;t<this.w.length;++t)this.w[t]-=this.eta*s[t]}}class b extends h{constructor(t){super(t,"Momentum"),this.eta=.01,this.beta=.9,this.m=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta*this.m[t]+(1-this.beta)*s[t],this.w[t]-=this.eta*this.m[t]}}class S extends h{constructor(t){super(t,"AdaGrad"),this.eta=.1,this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.v[t]+=s[t]*s[t],this.w[t]-=this.eta/Math.sqrt(this.v[t]+1e-6)*s[t]}}class C extends h{constructor(t){super(t,"RMSProp"),this.eta=.01,this.beta=.9,this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.v[t]=this.beta*this.v[t]+(1-this.beta)*s[t]*s[t],this.w[t]-=this.eta/Math.sqrt(this.v[t]+1e-6)*s[t]}}class A extends h{constructor(t){super(t,"Adam"),this.eta=.01,this.beta1=.9,this.beta2=.999,this.m=new Array(t.length).fill(0),this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta1*this.m[t]+(1-this.beta1)*s[t],this.v[t]=this.beta2*this.v[t]+(1-this.beta2)*s[t]*s[t],this.w[t]-=this.eta/(Math.sqrt(this.v[t]/(1-this.beta2))+1e-6)*this.m[t]/(1-this.beta1)}}class P extends h{constructor(t){super(t,"AdaMax"),this.alpha=.001,this.beta1=.9,this.beta2=.999,this.m=new Array(t.length).fill(0),this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta1*this.m[t]+(1-this.beta1)*s[t],this.v[t]=Math.max(this.beta2*this.v[t],Math.abs(s[t])),this.w[t]-=this.alpha/(this.v[t]+1e-6)*this.m[t]/(1-this.beta1)}}class I extends h{constructor(t){super(t,"AMSGrad"),this.alpha=.001,this.beta1=.9,this.beta2=.999,this.m=new Array(t.length).fill(0),this.v=new Array(t.length).fill(0)}update(s){for(let t=0;t<this.w.length;++t)this.m[t]=this.beta1*this.m[t]+(1-this.beta1)*s[t],this.v[t]=Math.max(this.beta2*this.v[t]+(1-this.beta2)*s[t]*s[t],this.v[t]),this.w[t]-=this.alpha/(Math.sqrt(this.v[t])+1e-6)*this.m[t]}}class r{constructor(t,s,i,e,h=[0,0],r=400){this.name=t,this.globalMin=s,this.startPoints=i,this.scale=e,this.steps=r,this.shift=h}val(t){return 0}grad(t){return t}hasGlobalMin(){return null!=this.globalMin}getGlobalMin(){return M.subArrays(this.globalMin,this.shift)}getStartPoint(){return M.subArrays(M.randomChoice(this.startPoints),this.shift)}getScale(){return this.scale}getSteps(){return this.steps}getName(){return this.name}}class a extends r{constructor(){super("Two-dimensional non-convex function with saddle point: f(x, y) = x^2 - y^2",null,[[-1,.001],[-1,-1e-4],[1,.01],[1,-.001]],1.1)}val(t){var s=t[0]+this.shift[0],t=t[1]+this.shift[1];return s*s-t*t}grad(t){return[2*(t[0]+this.shift[0]),-2*(t[1]+this.shift[1])]}}class n extends r{constructor(){super("Two-dimensional non-convex BEALE function",[3,.5],[[.2,.7],[2,2],[-1,-1.3],[-1.4,-1.7],[4,-1.1]],2.2,[2,0])}val(t){var s=t[0]+this.shift[0],t=t[1]+this.shift[1];return Math.pow(1.5-s+s*t,2)+Math.pow(2.25-s+s*t*t,2)+Math.pow(2.625-s+s*Math.pow(t,3),2)}grad(t){var s=t[0]+this.shift[0],i=t[1]+this.shift[1],e=i*i,h=e*i,r=h*i,t=r*i;return[2*s*(t*i+r-2*h-e-2*i+3)+5.25*h+4.5*e+3*i-12.75,6*s*(s*(t+2/3*h-e-1/3*i-1/3)+2.625*e+1.5*i+.5)]}}class o extends r{constructor(){super("Two variables non-convex Stybliski-Tang function",[-2.903534,-2.903534],[[0,5],[0,-5],[5,0],[-5,0],[-.5,-5],[-5,-.5]],5.5)}val(t){var s=t[0]+this.shift[0],i=t[1]+this.shift[1],e=s*s,t=i*i;return(e*e-16*e+5*s+(t*t-16*t+5*i))/2+78.33188}grad(t){var s=t[0]+this.shift[0],t=t[1]+this.shift[1];return[2*Math.pow(s,3)-16*s-2.5,2*Math.pow(t,3)-16*t-2.5]}}class l extends e{constructor(t,s,i){super(t,s,i,"visualization of gradient descent algorithms","gradient-descent.js"),this.funcClass=M.randomChoice([a,n,o]),this.func=new this.funcClass,this.scale=0,this.optims=null,this.imageData=null}draw(){this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);for(let s=0;s<this.optims.length;++s){var i,e,h,r;let t=this.optims[s];[i,e]=t.getW(),t.update(this.func.grad(t.getW())),[h,r]=t.getW(),M.drawLine(this.ctx,i*this.scale,-e*this.scale,h*this.scale,-r*this.scale,this.colorsAlt[s],2)}this.ctx.resetTransform(),this.frame>=this.func.getSteps()&&this.resize()}resize(){M.clear(this.ctx,this.bgColor),this.frame=0,this.imageData=null;var i=this.ctx.canvas.width,e=this.ctx.canvas.height,h=i/2,r=e/2;this.scale=Math.min(i,e)/this.func.getScale()/2,this.ctx.fillStyle=this.colors[0],this.ctx.font="12px sans-serif";let a=new Array(i*e),n,o,l,c=0;l=this.func.hasGlobalMin()?(c=this.func.val(this.func.getGlobalMin()),n=[0,.125],o=1.5,0):(c=0,w=this.func.getScale(),t=[this.func.val([0,0]),this.func.val([w,0]),this.func.val([0,w]),this.func.val([-w,0]),this.func.val([0,-w]),this.func.val([w,w]),this.func.val([-w,-w]),this.func.val([w,-w]),this.func.val([-w,w])],w=Math.min(...t),t=Math.max(...t),n=[w],o=1,(t-w)/15);for(let s=0;s<i;++s)for(let t=0;t<e;++t){for(var d=(s-h)/this.scale,u=-(t-r)/this.scale,f=this.func.val([d,u]),g=s+t*i;f>c+n[n.length-1];)n.push(n[n.length-1]*o+l);for(let t=1;t<n.length;++t)if(f<c+n[t]){a[g]=t-1;break}}let m=[];for(let t=0;t<n.length;++t)m.push(M.lerpColor(this.colors[0],this.colors[this.colors.length-1],(t+1)/(n.length+1)));for(let s=0;s<i;++s)for(let t=0;t<e;++t){var p=s+t*i,x=-3*a[p]+a[p+1]+a[p+i]+a[p+1+i];this.ctx.fillStyle=m[a[p]],0!=x&&4!=x&&this.ctx.fillRect(s,t,1,1)}this.ctx.fillStyle=this.colors[0];let s=.5;3<this.scale&&(s=1);for(let t=0;t<h/this.scale;t+=s)this.ctx.fillText(t.toFixed(1),h+t*this.scale,e-22),0!=t&&this.ctx.fillText((-t).toFixed(1),h-t*this.scale,e-22);for(let t=0;t<r/this.scale;t+=s)this.ctx.fillText(t.toFixed(1),10,r+t*this.scale),0!=t&&this.ctx.fillText((-t).toFixed(1),10,r-t*this.scale);var t=this.func.getStartPoint();this.optims=[new y(t),new b(t),new S(t),new C(t),new A(t),new P(t),new I(t)];let v=22;var w;this.ctx.fillText(this.func.getName(),50,v),this.func.hasGlobalMin()&&(v+=20,w=this.func.getGlobalMin(),this.ctx.fillText("Optimum: f(x*) = "+Math.round(1e4*this.func.val(w))/1e4+", at x* =  ("+w[0]+", "+w[1]+")",50,v),M.fillCircle(this.ctx,h+w[0]*this.scale,r+-w[1]*this.scale,2,this.colors[0])),v+=20,this.ctx.fillText("Starting point: x0 = ("+t[0]+", "+t[1]+")",50,v),v+=40,this.ctx.fillText("Optimizers:",50,v);for(let t=0;t<this.optims.length;++t)v+=20,this.ctx.fillStyle=this.colorsAlt[t],this.ctx.font="12px sans-serif",this.ctx.fillText("    "+this.optims[t].getName(),50,v),M.fillCircle(this.ctx,53,v-4,3,this.colorsAlt[t]);this.imageData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}}s.exports=l},{"./animation":2,"./utils":18}],8:[function(t,s,i){"use strict";const e=t("./utils");var h=t("./3n+1"),r=t("./cardioids"),a=t("./circular-waves"),n=t("./game-of-live"),o=t("./game-of-live-isometric"),l=t("./gradient-descent"),c=t("./neural-network"),d=t("./particles-and-attractors"),u=t("./particles-vortex"),f=t("./particles-waves"),g=t("./perlin-noise-particles"),m=t("./sorting"),p=t("./spinning-shapes"),t=t("./spirograph");const x=document.getElementById("background"),v=document.getElementById("container");var w=0,M=0,y=!1,b=0,S=0,C=!1;const A=["#0058B5","#0070b5","#0193c9","#03b2d9","#007fb5","#03609a"],P=["#602180","#b6245c","#e14f3b","#ec8c4d","#fff202","#99f32b","#106aa6","#283b93"],I=document.getElementById("content"),L=document.getElementById("background-show"),k=document.getElementById("background-name"),z=document.getElementById("background-next"),F=document.getElementById("background-code"),T=document.getElementById("background-reset"),q=document.getElementById("background-stop"),R=document.getElementById("background-settings"),E=document.getElementById("background-settings-controls"),B=document.getElementById("background-settings-close");let H=[h,r,a,n,o,l,c,d,u,f,g,m,p,t];e.randomShuffle(H);let V=0,W=new H[V](x,A,P);function N(n){var t=n.getFPS();if(b=1e3/t,S=Date.now(),k.innerHTML=n.getName(),F.href=n.getCodeUrl(),n.resize(),E){let t=n.getSettings(),a=document.getElementById("background-settings-controls-list");a.innerHTML="",0==t.length&&(a.innerHTML="No settings"),t.forEach(function(t,s){let i=t.prop;var e=n[i],h=i.split(/(?=[A-Z])/).join("-").toLowerCase()+"-controls";let r='<div><span class="setting-name">'+i.split(/(?=[A-Z])/).join(" ").toLowerCase()+" = </span>";"int"===t.type&&(r+='<input type="range" class="setting-input" name="'+i+'" id="'+h+'" value="'+e+'" min="'+t.min+'" max="'+t.max+'" onInput="this.nextElementSibling.value = this.value">[<output class="setting-value">'+e+"</output>]"),r+="</div>",a.innerHTML+=r}),t.forEach(function(t,s){let i=t.prop;var e=i.split(/(?=[A-Z])/).join("-").toLowerCase()+"-controls";let h=t.requires_resize,r=document.getElementById(e);r&&r.addEventListener("click",function(t){n[i]=t.target.value,h&&n.resize()})})}}function O(){var t,s,i;C||(t=(i=Date.now())-S,requestAnimationFrame(O),t<b||(S=i,s=Math.max(v.offsetWidth,window.innerWidth),i=Math.max(v.offsetHeight,window.innerHeight),s!=w||i!=M?y=!0:y&&(x.width=s,x.height=i,W.resize(),y=!1),M=i,w=s,W.update(t),W.draw()))}function G(){q.innerHTML='<i class="fas fa-stop"></i> stop',C=!1,S=Date.now(),O()}function j(){E.classList.remove("fade-in"),E.classList.add("fade-out")}N(W),O(),L&&L.addEventListener("click",function(){I.classList.contains("fade-out")?(I.classList.remove("fade-out"),I.classList.add("fade-in"),x.classList.remove("show-from-10"),x.classList.add("fade-to-10"),L.innerHTML='<i class="fas fa-eye"></i> show'):(I.classList.remove("fade-in"),I.classList.add("fade-out"),x.classList.remove("faded-10"),x.classList.remove("fade-to-10"),x.classList.add("show-from-10"),L.innerHTML='<i class="fas fa-eye-slash"></i> hide')}),z&&z.addEventListener("click",function(){V=(V+1)%H.length,W=new H[V](x,A,P),N(W),G()}),T&&T.addEventListener("click",function(){W=new H[V](x,A,P),N(W),G()}),q&&q.addEventListener("click",function(){" stop"==q.innerText?(C=!0,q.innerHTML='<i class="fas fa-play"></i> play'):G()}),R&&E&&B&&(R.addEventListener("click",function(){E.classList.contains("fade-in")?j():(E.classList.remove("fade-out"),E.classList.add("fade-in"),E.style.display="block")}),B.addEventListener("click",function(){j()}),E.addEventListener("mousedown",function(t){t.target===t.currentTarget&&t.target.classList.add("moving")}),addEventListener("mousemove",function(t){E.classList.contains("moving")&&(E.style.left=t.clientX+"px",E.style.top=t.clientY+"px")}),addEventListener("mouseup",function(t){E.classList.remove("moving")}))},{"./3n+1":1,"./cardioids":3,"./circular-waves":4,"./game-of-live":6,"./game-of-live-isometric":5,"./gradient-descent":7,"./neural-network":9,"./particles-and-attractors":11,"./particles-vortex":12,"./particles-waves":13,"./perlin-noise-particles":14,"./sorting":15,"./spinning-shapes":16,"./spirograph":17,"./utils":18}],9:[function(t,s,i){var e=t("./animation");const c=t("./utils");class h extends e{constructor(t,s,i){super(t,s,i,"visualization of simple neural network","neural-network.js"),this.network=[],this.nLayers=0,this.baseNodeSize=3,this.baseLineSize=1}getFPS(){return 1.5}update(t){if(0!=this.network.length){for(var s of this.network[0])s.v=c.randomRange(-1,1);for(let s=1;s<this.nLayers;s++)for(var i of this.network[s]){for(let t=i.v=0;t<this.network[s-1].length;++t)i.v+=this.network[s-1][t].v*i.w[t];s==this.nLayers-1?i.v=1/(1+Math.exp(-i.v)):i.v=Math.max(0,i.v)}}}draw(){c.clear(this.ctx,this.bgColor);for(let t=0;t<this.nLayers-1;t++){var s,i=this.network[t],e=this.network[t+1];for(s of i)for(var h of e){var r=c.clip(s.v,0,1),a=this.colors[this.colors.length-1-Math.floor(r*this.colors.length)];this.ctx.globalAlpha=r,c.drawLine(this.ctx,s.x,s.y,h.x,h.y,a,1+r)}}this.ctx.globalAlpha=1;for(var t of this.network)for(var n of t){var o=c.clip(n.v,0,1),l=c.clip(2*n.v,0,4),o=this.colors[this.colors.length-1-Math.floor(o*this.colors.length)],l=this.baseNodeSize+l;c.fillCircle(this.ctx,n.x,n.y,l,o),this.ctx.font="12px sans-serif",this.ctx.fillText(n.v.toFixed(2),n.x-11,n.y-2*this.baseNodeSize)}}resize(){c.clear(this.ctx,"#FFFFFF");var t=this.ctx.canvas.width,r=this.ctx.canvas.height;this.network=[],this.nLayers=c.clip(Math.floor(t/150),3,7);var s=50*t/500,a=(t-2*s)/(this.nLayers-1),n=r/17;let o=s;for(let h=0;h<this.nLayers;h++){let s=[],i=0;i=0==h||h==this.nLayers-1?Math.floor(c.randomRange(4,16)):c.randomChoice([8,12,16]);let e=r/2-Math.floor(i/2)*n;i%2==0&&(e+=n/2);for(let t=0;t<i;t++){let t={x:o,y:e,v:0,w:null};0<h&&(t.w=c.randomArray(this.network[h-1].length,-1,1)),s.push(t),e+=n}this.network.push(s),o+=a}this.update(0),this.draw()}}s.exports=h},{"./animation":2,"./utils":18}],10:[function(t,s,i){!function(t){t=t.noise={};function s(t,s,i){this.x=t,this.y=s,this.z=i}s.prototype.dot2=function(t,s){return this.x*t+this.y*s},s.prototype.dot3=function(t,s,i){return this.x*t+this.y*s+this.z*i};var e=[new s(1,1,0),new s(-1,1,0),new s(1,-1,0),new s(-1,-1,0),new s(1,0,1),new s(-1,0,1),new s(1,0,-1),new s(-1,0,-1),new s(0,1,1),new s(0,-1,1),new s(0,1,-1),new s(0,-1,-1)],h=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],b=new Array(512),S=new Array(512);t.seed=function(t){0<t&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var s=0;s<256;s++){var i=1&s?h[s]^255&t:h[s]^t>>8&255;b[s]=b[s+256]=i,S[s]=S[s+256]=e[i%12]}},t.seed(0);var u=.5*(Math.sqrt(3)-1),f=(3-Math.sqrt(3))/6,C=1/6;function g(t){return t*t*t*(t*(6*t-15)+10)}function m(t,s,i){return(1-i)*t+i*s}t.simplex2=function(t,s){var i=(t+s)*u,e=Math.floor(t+i),h=Math.floor(s+i),r=(e+h)*f,a=t-e+r,n=s-h+r,o=n<a?(d=1,0):(d=0,1),l=a-d+f,c=n-o+f,i=a-1+2*f,t=n-1+2*f,s=S[(e&=255)+b[h&=255]],r=S[e+d+b[h+o]],d=S[1+e+b[1+h]],o=.5-a*a-n*n,e=.5-l*l-c*c,h=.5-i*i-t*t;return 70*((o<0?0:(o*=o)*o*s.dot2(a,n))+(e<0?0:(e*=e)*e*r.dot2(l,c))+(h<0?0:(h*=h)*h*d.dot2(i,t)))},t.simplex3=function(t,s,i){var e,h,r=(t+s+i)*(1/3),a=Math.floor(t+r),n=Math.floor(s+r),o=Math.floor(i+r),l=(a+n+o)*C,c=t-a+l,d=s-n+l,u=i-o+l,f=d<=c?u<=d?(y=M=e=1,w=h=0):M=u<=c?(y=w=h=0,e=1):(y=h=e=0,w=1):d<u?(M=h=e=0,y=w=1):c<u?(M=w=e=0,y=h=1):(y=M=h=1,w=e=0),g=c-e+C,m=d-h+C,p=u-w+C,x=c-M+2*C,v=d-y+2*C,r=u-f+2*C,t=c-1+.5,s=d-1+.5,i=u-1+.5,l=S[(a&=255)+b[(n&=255)+b[o&=255]]],w=S[a+e+b[n+h+b[o+w]]],M=S[a+M+b[n+y+b[o+f]]],y=S[1+a+b[1+n+b[1+o]]],f=.6-c*c-d*d-u*u,a=.6-g*g-m*m-p*p,n=.6-x*x-v*v-r*r,o=.6-t*t-s*s-i*i;return 32*((f<0?0:(f*=f)*f*l.dot3(c,d,u))+(a<0?0:(a*=a)*a*w.dot3(g,m,p))+(n<0?0:(n*=n)*n*M.dot3(x,v,r))+(o<0?0:(o*=o)*o*y.dot3(t,s,i)))},t.perlin2=function(t,s){var i=Math.floor(t),e=Math.floor(s);t-=i,s-=e;var h=S[(i&=255)+b[e&=255]].dot2(t,s),r=S[i+b[1+e]].dot2(t,s-1),a=S[1+i+b[e]].dot2(t-1,s),e=S[1+i+b[1+e]].dot2(t-1,s-1),t=g(t);return m(m(h,a,t),m(r,e,t),g(s))},t.perlin3=function(t,s,i){var e=Math.floor(t),h=Math.floor(s),r=Math.floor(i);t-=e,s-=h,i-=r;var a=S[(e&=255)+b[(h&=255)+b[r&=255]]].dot3(t,s,i),n=S[e+b[h+b[1+r]]].dot3(t,s,i-1),o=S[e+b[1+h+b[r]]].dot3(t,s-1,i),l=S[e+b[1+h+b[1+r]]].dot3(t,s-1,i-1),c=S[1+e+b[h+b[r]]].dot3(t-1,s,i),d=S[1+e+b[h+b[1+r]]].dot3(t-1,s,i-1),u=S[1+e+b[1+h+b[r]]].dot3(t-1,s-1,i),r=S[1+e+b[1+h+b[1+r]]].dot3(t-1,s-1,i-1),t=g(t),s=g(s),i=g(i);return m(m(m(a,c,t),m(n,d,t),i),m(m(o,u,t),m(l,r,t),i),s)}}(this)},{}],11:[function(t,s,i){var e=t("./animation");const l=t("./utils");class h extends e{constructor(t,s,i,e=1e4,h=5,r=!1){super(t,s,i,"system of particles and attractors","particles-and-attractors.js"),this.particles=[],this.particlesSpeed=l.randomRange(5,15),this.drawAttractors=r,this.numAttractors=h,this.attractorsSystem=l.randomChoice(["circles","eights"]),this.attractorsSpeed=l.randomRange(.05,.1)*l.randomChoice([-1,1]),this.timeBase=l.randomRange(0,10);for(let t=0;t<e;++t)this.particles.push(l.rotateVec2d(l.createVec2d(l.randomRange(1,100),0),t))}draw(){l.blendColor(this.ctx,this.bgColor,.03,"lighter"),this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);var s,i=(this.timeBase+this.time)*this.attractorsSpeed;let e=[];if("circles"==this.attractorsSystem){var h=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/(2*(this.numAttractors-1));for(let t=0;t<this.numAttractors;++t)e.push(l.rotateVec2d(l.createVec2d(t*h,0),i*t))}else if("eights"==this.attractorsSystem){var r=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/this.numAttractors;for(let t=0;t<this.numAttractors;++t)e.push(l.rotateVec2d(l.createVec2d(t*Math.sin(i*Math.PI/2)*r,0),i*t))}for(s of this.particles){let t=0;for(var a of e)t+=Math.atan2(a.y-s.y,a.x-s.x);var n=s.x,o=s.y;s.x+=Math.cos(t)*this.particlesSpeed,s.y+=Math.sin(t)*this.particlesSpeed,l.drawLine(this.ctx,n,o,s.x,s.y,this.colors[0])}if(this.drawAttractors)for(var t of e)l.fillCircle(this.ctx,t.x,t.y,5,this.colorsAlt[2]);this.ctx.resetTransform()}resize(){l.clear(this.ctx,"#FFFFFF")}}s.exports=h},{"./animation":2,"./utils":18}],12:[function(t,s,i){var e=t("./animation");const c=t("./noise"),d=t("./utils");class h extends e{constructor(t,s,i,e=1500,h=100,r=200,a=25,n=50,o=.01,l=.02){super(t,s,i,"vortex of particles","particles-vortex.js"),this.noise=c.noise,this.noise.seed(d.randomRange(0,1)),this.particles=e,this.radius=d.randomRange(h,r),this.speed=d.randomRange(a,n)*d.randomChoice([-1,1]),this.rotationSpeed=d.randomRange(o,l)*d.randomChoice([-1,1]),this.dirX=d.randomRange(-.75,.75),this.dirY=d.randomRange(-.75,.75),this.resize()}draw(){d.clear(this.ctx,"#FFFFFF"),this.ctx.lineWidth=1,this.ctx.strokeStyle=this.colors[0];var t=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/4,s=this.ctx.canvas.width/2+this.dirX*t,t=this.ctx.canvas.height/2+this.dirY*t,i=Math.round(this.time*this.speed)/2;this.ctx.translate(s,t),this.ctx.beginPath();for(let t=1;t<=this.particles;t++){var e=this.radius+Math.pow(t/(this.particles/1.5),2)*t/2,h=100*this.noise.perlin2(.1*t+i,.1)+i*this.rotationSpeed,r=Math.cos(h)*e+Math.sqrt(t*this.radius)*this.dirX,e=Math.sin(h)*e+Math.sqrt(t*this.radius)*this.dirY;d.pathCircle(this.ctx,r,e,.01*t)}this.ctx.stroke(),this.ctx.resetTransform()}}s.exports=h},{"./animation":2,"./noise":10,"./utils":18}],13:[function(t,s,i){var e=t("./animation");const r=t("./noise"),a=t("./utils");class h extends e{constructor(t,s,i,e=48,h=.001){super(t,s,i,"particles waves","particles-waves.js"),this.particlePer100PixSq=e,this.noiseScale=h,this.noise=r.noise,this.noise.seed(a.randomRange(0,1)),this.particles=[],this.width=0,this.height=0}update(t){this.time+=t/1e3,++this.frame;for(var s of this.particles){var i=2*this.noise.perlin3(s.x*this.noiseScale*2,s.y*this.noiseScale*3,this.frame*this.noiseScale*3)*Math.PI;s.x+=2*Math.tan(i),s.y+=2*Math.sin(i),s.x<0&&(s.x=this.width),s.x>this.width&&(s.x=0),s.y<0&&(s.y=this.height),s.y>this.height&&(s.y=0)}}draw(){a.blendColor(this.ctx,this.bgColor,.02,"lighter");for(var t of this.particles)this.ctx.fillStyle=t.color,this.ctx.fillRect(t.x,t.y,1,1)}resize(){a.clear(this.ctx,this.bgColor),this.width=this.ctx.canvas.width,this.height=this.ctx.canvas.height;var s=this.width/100*this.height/100*this.particlePer100PixSq;this.particles=[];for(let t=0;t<s;t++){var i=Math.random()*this.width,e=Math.random()*this.height;this.particles.push({x:i,y:e,color:a.lerpColor(this.colorA,this.colorB,i/this.width)})}}}s.exports=h},{"./animation":2,"./noise":10,"./utils":18}],14:[function(t,s,i){var e=t("./animation");const a=t("./noise"),o=t("./utils");class h extends e{constructor(t,s,i,e=4,h=.001,r=!1){super(t,s,i,"particles moving through Perlin noise","perlin-noise-particles.js"),this.particlePer100PixSq=e,this.noiseScale=h,this.noise=a.noise,this.noise.seed(o.randomRange(0,1)),this.drawNoise=r,this.width=0,this.height=0,this.particles=[],this.imageData=null}update(t){this.time+=t/1e3,++this.frame;for(var s of this.particles){var i=2*this.noise.perlin2(s.x*this.noiseScale,s.y*this.noiseScale)*Math.PI/this.noiseScale;s.prevX=s.x,s.prevY=s.y,s.x+=Math.cos(i)*s.speed,s.y+=Math.sin(i)*s.speed}}draw(){for(var t of this.particles)o.drawLine(this.ctx,t.prevX,t.prevY,t.x,t.y,t.color,2*t.radius);this.imageData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}spawnParticles(s,i,e,h){var r=e/100*h/100*this.particlePer100PixSq;for(let t=0;t<r;t++){var a=Math.random()*e+s,n=Math.random()*h+i;this.particles.push({x:a,y:n,prevX:a,prevY:n,speed:.2*Math.random()+.1,radius:.5*Math.random()+.5,color:o.randomChoice(this.colors)})}}resize(){o.clear(this.ctx,this.bgColor),null!=this.imageData&&this.ctx.putImageData(this.imageData,0,0);var t=this.ctx.canvas.width-this.width,s=this.ctx.canvas.height-this.height;if(0<t&&this.spawnParticles(this.width,0,t,this.height),0<s&&this.spawnParticles(0,this.height,this.width,s),(0<t||0<s)&&this.spawnParticles(this.width,this.height,t,s),this.width=Math.max(this.ctx.canvas.width,this.width),this.height=Math.max(this.ctx.canvas.height,this.height),this.drawNoise){var i=this.ctx.canvas.width*this.noiseScale,e=this.ctx.canvas.height*this.noiseScale,h=i/this.ctx.canvas.width*10;for(let s=0;s<e;s+=h)for(let t=0;t<i;t+=h){var r=Math.floor(250*this.noise.perlin2(t,s));this.ctx.fillStyle="hsl("+r+",50%,50%)",this.ctx.fillRect(t/i*this.ctx.canvas.width,s/e*this.ctx.canvas.height,10,10)}}}}s.exports=h},{"./animation":2,"./noise":10,"./utils":18}],15:[function(t,s,i){var e=t("./animation");const f=t("./utils");class c{constructor(){this.queue=[]}push(t){this.queue.push({step:t,time:0})}step(s){let i=!0;if(this.queue.length){let t=this.queue[0];t.time+=s,i=t.step(t.time),i&&this.queue.shift()}return i&&!this.queue.length}}class h{constructor(t,s){this.arr=t,this.moves=[],this.name=s,this.sort()}getName(){return this.name}comp(t,s,i){return s!=i&&this.moves.push(["cmp",t[s],t[i]]),t[s].val-t[i].val}compVal(t,s){return t!=s&&this.moves.push(["cmp",t,s]),t.val-s.val}swap(t,s,i){this.moves.push(["swap",[t[s],t[i]],[t[i],t[s]]]);var e=t[s];t[s]=t[i],t[i]=e}rearrange(s,i,e){let h=[],r=[];for(let t=0;t<i.length;++t)h.push(this.arr[i[t]]),r.push(this.arr[e[t]]);for(let t=0;t<i.length;++t)s[i[t]]=r[t];this.moves.push(["swap",r,h])}sort(){}getMoves(){return this.moves}}class d extends h{constructor(t){super(t,"bubble sort")}sort(){var e=this.arr.length;for(let i=0;i<e;i++){let s=!0;for(let t=0;t<e-1-i;t++)0<this.comp(this.arr,t,t+1)&&(this.swap(this.arr,t,t+1),s=!1);if(s)break}}}class u extends h{constructor(t){super(t,"selection sort")}sort(){var e=this.arr.length;for(let i=0;i<e;i++){let s=i;for(let t=i;t<e;t++)0<this.comp(this.arr,s,t)&&(s=t);i!==s&&this.swap(this.arr,i,s)}}}class g extends h{constructor(t){super(t,"insertion sort")}sort(){var t=this.arr.length;for(let s=1;s<t;s++){let t=s;for(;0<t&&this.comp(this.arr,t,t-1)<0;)this.swap(this.arr,t,t-1),--t}}}class m extends h{constructor(t){super(t,"merge sort")}sort(){this.mergeSort(0,this.arr.length-1)}mergeSort(t,s){var i;t<s&&(i=Math.floor((t+s)/2),this.mergeSort(t,i),this.mergeSort(i+1,s),this.merge(t,i,s))}merge(t,i,e){let h=t,r=i+1;if(!(this.comp(this.arr,i,r)<=0)){let t=[],s=[];for(let t=h;t<=e;++t)s.push(t);for(;h<=i&&r<=e;)this.comp(this.arr,h,r)<0?t.push(h++):t.push(r++);for(;h<=i;)t.push(h++);for(;r<=e;)t.push(r++);this.rearrange(this.arr,s,t)}}}class p extends h{constructor(t){super(t,"quick sort")}sort(){this.quickSort(0,this.arr.length-1)}quickSort(t,s){var i;1<=s-t&&(t<(i=this.partition(t,s))-1&&this.quickSort(t,i-1),i<s&&this.quickSort(i,s))}partition(t,s){for(var i=this.arr[Math.floor((s+t)/2)];t<=s;){for(;this.compVal(this.arr[t],i)<0;)t++;for(;0<this.compVal(this.arr[s],i);)s--;t<=s&&this.swap(this.arr,t++,s--)}return t}}class r extends e{constructor(t,s,i,e=2,h=.25,r=.25){super(t,s,i,"Sorting algorithm visualization","sorting.js"),this.numElements=100,this.elementPadding=e,this.elementWidth=0,this.elementMaxHeight=0,this.cmpDuration=h,this.swapDuration=r,this.animQueue=new c,this.elements=[];for(let t=0;t<this.numElements;++t){var a=f.randomRange(0,1),n=f.lerpColor(this.colors[0],this.colors[this.colors.length-1],a);this.elements.push({val:a,pos:t,color:n,z:0})}let o=f.randomChoice([d,u,g,p,m]),l=new o(this.elements);this.moves=l.getMoves(),this.name=l.getName()+" algorithm visualization"}update(t){if(this.time+=t/=1e3,++this.frame,this.animQueue.step(t)&&this.moves.length){t=this.moves[0];const a=t=>t<.5?f.easeInOutCubic(2*t):1-f.easeInOutCubic(2*t-1),n=f.easeInOutSine;if("cmp"==t[0]){let i=t[1],e=t[2];const h=i.color,r=e.color,o=this.colorsAlt[3],l=this.cmpDuration;this.animQueue.push(function(t){var s=Math.min(t,l)/l;return i.color=f.lerpColor(h,o,a(s)),e.color=f.lerpColor(r,o,a(s)),t>=l})}if("swap"==t[0]){let i=t[1],s=t[2],e=[],h=[],r=[];const c=this.colorsAlt[1],d=this.frame,u=this.swapDuration*i.length;for(let t=0;t<i.length;++t)e.push(i[t].pos),h.push(s[t].pos),r.push(i[t].color);this.animQueue.push(function(t){var s=Math.min(t,u)/u;for(let t=0;t<i.length;++t)i[t].z=d,i[t].color=f.lerpColor(r[t],c,a(s)),i[t].pos=f.lerp(e[t],h[t],n(s));return t>=u})}this.moves.shift()}}draw(){f.clear(this.ctx,"#FFFFFF"),this.elements=this.elements.sort((t,s)=>t.z-s.z);for(var t of this.elements){var s=t.pos*this.elementWidth+this.elementPadding/2,i=t.val*this.elementMaxHeight;this.ctx.fillStyle=t.color,this.ctx.fillRect(s,0,this.elementWidth-this.elementPadding,i)}}resize(){this.elementMaxHeight=this.ctx.canvas.height,this.elementWidth=this.ctx.canvas.width/this.numElements}}s.exports=r},{"./animation":2,"./utils":18}],16:[function(t,s,i){var e=t("./animation");const a=t("./utils");class h extends e{constructor(t,s,i,e=500,h=[0],r=!1){super(t,s,i,"","spinning-shapes.js");this.sides=a.randomChoice(h),this.rotatePolygons=r,this.shapes=e,this.name=["circles","triangles","rectangles","pentagons","hexagons","octagons"][[0,3,4,5,6,8].indexOf(this.sides)]+" moving in a circle",this.distBase=.6,this.distVar=.2,this.sizeBase=.2,this.sizeVar=.12}draw(){a.clear(this.ctx,"#FFFFFF");var s=Math.max(this.ctx.canvas.width,this.ctx.canvas.height)/3;this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);for(let t=0;t<this.shapes;++t){var i=t/this.shapes*2*Math.PI,e=(this.distBase+this.distVar*Math.cos(6*i+Math.cos(8*i+this.time/2)))*s,h=Math.cos(i)*e,r=Math.sin(i)*e,e=(this.sizeBase+this.sizeVar*Math.cos(9*i-this.time))*s;this.ctx.strokeStyle=a.lerpColor(this.colorA,this.colorB,(Math.cos(9*i-this.time)+1)/2),this.ctx.lineWidth=1,this.ctx.beginPath(),0==this.sides?a.pathCircle(this.ctx,h,r,e):a.pathPolygon(this.ctx,h,r,e,this.sides,i*this.rotatePolygons),this.ctx.stroke()}this.ctx.resetTransform()}}s.exports=h},{"./animation":2,"./utils":18}],17:[function(t,s,i){var e=t("./animation");const n=t("./utils");class h extends e{constructor(t,s,i,e=2500){super(t,s,i,"spirograph","spirograph.js"),this.points=e,this.gears=[];var h=n.randomInt(2,5);this.name="spirograph with "+["one","two","three","four","five","six"][h]+" random gears";for(let t=0;t<h;++t)this.gears.push({r:n.randomRange(0,100),rate:n.randomRange(-100,100),phase:.005*t})}get_x_y(t,s,i=1){let e=0,h=0;for(var r of this.gears)e+=r.r*i*Math.cos(r.rate*(t+s*r.phase)),h+=r.r*i*Math.sin(r.rate*(t+s*r.phase));return{x:e,y:h}}draw(){n.clear(this.ctx,this.bgColor);let t=0;for(var s of this.gears)t+=s.r;var i=Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/2/t;this.ctx.translate(this.ctx.canvas.width/2,this.ctx.canvas.height/2);var e=2*Math.PI/this.points;let h=this.get_x_y(0,this.time,i);for(let t=e;t<=2*Math.PI;t+=e){var r=this.get_x_y(t,this.time,i),a=n.lerpColor(this.colorA,this.colorB,t/(2*Math.PI));n.drawLine(this.ctx,h.x,h.y,r.x,r.y,a,1),h=r}this.ctx.resetTransform()}}s.exports=h},{"./animation":2,"./utils":18}],18:[function(require,module,exports){module.exports={randomRange(t,s){return Math.random()*(s-t)+t},randomInt(t,s){return Math.floor(this.randomRange(t,s))},randomChoice(t){return t[Math.floor(Math.random()*t.length)]},randomBoxMuller(){return Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())},randomArray(t,s,i){return Array(t).fill().map(()=>this.randomRange(s,i))},randomShuffle(s){for(let t=s.length-1;0<t;--t){var i=Math.floor(Math.random()*(t+1)),e=s[t];s[t]=s[i],s[i]=e}},addArrays(t,i){return t.map((t,s)=>t+i[s])},subArrays(t,i){return t.map((t,s)=>t-i[s])},mulArrays(t,i){return t.map((t,s)=>t*i[s])},clip(t,s,i){return Math.max(s,Math.min(i,t))},remap(t,s,i,e,h){return e+(t-s)/(i-s)*(h-e)},sum(t){let s=0;for(var i of t)s+=a;return s},lerp(t,s,i){return(1-i)*t+i*s},lerpColor(t,s,i){t=parseInt(t.replace("#","0x"),16);return ar=t>>16,ag=t>>8&255,ab=255&t,bh=parseInt(s.replace("#","0x"),16),br=bh>>16,bg=bh>>8&255,bb=255&bh,rr=ar+i*(br-ar),rg=ag+i*(bg-ag),rb=ab+i*(bb-ab),"#"+((1<<24)+(rr<<16)+(rg<<8)+rb|0).toString(16).slice(1)},lerpColorsPallet(t,s){var i=1/(t.length-1),e=Math.floor(s/i);return this.lerpColor(t[e%t.length],t[(e+1)%t.length],(s-e*i)/i)},mirrorColorsPallet(t){},easeInSine(t){return 1-Math.cos(t*Math.PI/2)},easeOutSine(t){return Math.sin(t*Math.PI/2)},easeInOutSine(t){return-(Math.cos(Math.PI*t)-1)/2},easeInQuad(t){return t*t},easeOutQuad(t){return 1-(1-t)*(1-t)},easeInOutQuad(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInCubic(t){return t*t*t},easeOutCubic(t){return 1-Math.pow(1-t,3)},easeInOutCubic(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1-Math.pow(1-t,4)},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},clear(t,s){t.fillStyle=s,t.fillRect(0,0,t.canvas.width,t.canvas.height)},pathLine(t,s,i,e,h){t.moveTo(s,i),t.lineTo(e,h)},drawLine(t,s,i,e,h,r,a=1){t.lineWidth=a,t.strokeStyle=r,t.beginPath(),t.moveTo(s,i),t.lineTo(e,h),t.stroke()},pathPolygon(s,i,e,h,r,a=0){var n=2*Math.PI/r;s.moveTo(i+h*Math.cos(a),e+h*Math.sin(a));for(let t=1;t<=r;t++)s.lineTo(i+h*Math.cos(a+t*n),e+h*Math.sin(a+t*n))},pathCircle(t,s,i,e){t.moveTo(s+e,i),t.arc(s,i,e,0,2*Math.PI,!1)},fillCircle(t,s,i,e,h){t.fillStyle=h,t.beginPath(),t.arc(s,i,e,0,2*Math.PI,!1),t.fill()},strokeCircle(t,s,i,e,h){t.strokeStyle=h,t.beginPath(),t.arc(s,i,e,0,2*Math.PI,!1),t.stroke()},pathShape(s,i){if(i.length){s.moveTo(i[0][0],i[0][1]);for(let t=1;t<i.length;++t)s.lineTo(i[t][0],i[t][1])}},pathClosedShape(t,s){s.length&&(this.pathShape(t,s),t.lineTo(s[0][0],s[0][1]))},blendColor(t,s,i=1,e="source-over"){t.save(),t.globalCompositeOperation=e,t.globalAlpha=i,t.fillStyle=s,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore()},createVec2d(t,s){return{x:t,y:s}},rotateVec2d(t,s){var i=Math.cos(s),s=Math.sin(s);return{x:t.x*i-t.y*s,y:t.x*s+t.y*i}},rgbToHex(t,s,i){return"#"+((1<<24)+(t<<16)+(s<<8)+i).toString(16).slice(1)},createOffscreenCanvas(t,s){let i=document.createElement("canvas");return i.width=t,i.height=s,i},isStrictMode(){return eval("var __temp = null"),"undefined"==typeof __temp?"strict":"non-strict"}}},{}]},{},[8]);